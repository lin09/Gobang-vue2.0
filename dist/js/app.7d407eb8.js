(function(t){function e(e){for(var o,s,r=e[0],c=e[1],l=e[2],d=0,h=[];d<r.length;d++)s=r[d],a[s]&&h.push(a[s][0]),a[s]=0;for(o in c)Object.prototype.hasOwnProperty.call(c,o)&&(t[o]=c[o]);u&&u(e);while(h.length)h.shift()();return i.push.apply(i,l||[]),n()}function n(){for(var t,e=0;e<i.length;e++){for(var n=i[e],o=!0,r=1;r<n.length;r++){var c=n[r];0!==a[c]&&(o=!1)}o&&(i.splice(e--,1),t=s(s.s=n[0]))}return t}var o={},a={app:0},i=[];function s(e){if(o[e])return o[e].exports;var n=o[e]={i:e,l:!1,exports:{}};return t[e].call(n.exports,n,n.exports,s),n.l=!0,n.exports}s.m=t,s.c=o,s.d=function(t,e,n){s.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:n})},s.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},s.t=function(t,e){if(1&e&&(t=s(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var n=Object.create(null);if(s.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var o in t)s.d(n,o,function(e){return t[e]}.bind(null,o));return n},s.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return s.d(e,"a",e),e},s.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},s.p="/Gobang-vue2.0/dist/";var r=window["webpackJsonp"]=window["webpackJsonp"]||[],c=r.push.bind(r);r.push=e,r=r.slice();for(var l=0;l<r.length;l++)e(r[l]);var u=c;i.push([0,"chunk-vendors"]),n()})({0:function(t,e,n){t.exports=n("56d7")},"0d42":function(t,e,n){},"0f00":function(t,e,n){"use strict";var o=n("0d42"),a=n.n(o);a.a},"2a31":function(t,e,n){"use strict";var o=n("62e3"),a=n.n(o);a.a},"2c63":function(t,e,n){"use strict";var o=n("74dd"),a=n.n(o);a.a},"41a4":function(t,e,n){"use strict";var o=n("f7c0"),a=n.n(o);a.a},"4adc":function(t,e,n){"use strict";var o=n("6438"),a=n.n(o);a.a},"4c35":function(t,e,n){"use strict";var o=n("82a3"),a=n.n(o);a.a},"56d7":function(t,e,n){"use strict";n.r(e);n("cadf"),n("551c"),n("097d");var o=n("2b0e"),a=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{attrs:{id:"app"}},[n("router-view")],1)},i=[],s={name:"app"},r=s,c=(n("5c0b"),n("2877")),l=Object(c["a"])(r,a,i,!1,null,null,null);l.options.__file="App.vue";var u=l.exports,d=n("8c4f"),h=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"error"},[n("div",{staticClass:"code"},[t._v(t._s(t.$route.query.errorCode))])])},p=[],f={name:"error",data:function(){return{errorCode:0}},created:function(){this.errorCode=this.$route.query.errorCode||404}},m=f,v=(n("8c5d"),Object(c["a"])(m,h,p,!1,null,"4e1606aa",null));v.options.__file="Error.vue";var b=v.exports,g=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"home"},[n("div",{staticClass:"opponent"},[t._l(t.opponent,function(e,o){return n("button",{key:o,staticClass:"btn",attrs:{disabled:-1===t.active.indexOf(e.value)},on:{click:function(n){t.handleOpponent(e)}}},[t._v("\n      "+t._s(e.text)+"\n    ")])}),n("router-link",{staticClass:"btn",attrs:{to:"/log"}},[t._v("对战记录")])],2),n("Modal",{attrs:{title:"设置信息",okText:"确认"},on:{ok:t.goGage},model:{value:t.showSiteModal,callback:function(e){t.showSiteModal=e},expression:"showSiteModal"}},[n("cForm",{ref:"siteForm",attrs:{formData:t.siteFormData,rules:t.siteRules},on:{submit:t.goGage}},[n("FormGroup",{attrs:{label:"黑棋：",placeholder:"请输入玩家名字"},model:{value:t.siteFormData.userName,callback:function(e){t.$set(t.siteFormData,"userName",e)},expression:"siteFormData.userName"}}),n("FormGroup",{attrs:{label:"白棋：",placeholder:"请输入玩家名字"},model:{value:t.siteFormData.opponentName,callback:function(e){t.$set(t.siteFormData,"opponentName",e)},expression:"siteFormData.opponentName"}}),n("FormGroup",{attrs:{label:"倒计时（秒，0为不计时）：",placeholder:"请输入正整数",type:"number",min:0},model:{value:t.siteFormData.countDown,callback:function(e){t.$set(t.siteFormData,"countDown",e)},expression:"siteFormData.countDown"}})],1)],1),n("Modal",{attrs:{title:"设置信息",okText:"确认"},on:{ok:t.goComputer},model:{value:t.showComputerModal,callback:function(e){t.showComputerModal=e},expression:"showComputerModal"}},[n("cForm",{ref:"computerForm",attrs:{formData:t.computerFormData,rules:t.computerRules},on:{submit:t.goComputer}},[n("FormGroup",{attrs:{label:"黑棋：",placeholder:"请输入玩家名字"},model:{value:t.computerFormData.userName,callback:function(e){t.$set(t.computerFormData,"userName",e)},expression:"computerFormData.userName"}}),n("FormGroup",{attrs:{label:"选择：",type:"radio",values:[t.pieceColor.black,t.pieceColor.white]},model:{value:t.computerFormData.selectedColor,callback:function(e){t.$set(t.computerFormData,"selectedColor",e)},expression:"computerFormData.selectedColor"}})],1)],1)],1)},_=[],D=n("be94"),w=n("2f62"),k=n("ade3"),C=n("d4ec"),y=n("bee2"),x="gobang",O={LOGS:x+"Logs",LOG:x+"Log",USER_NAME:x+"UserName",OPPONENT_NAME:x+"OpponentName"},N={site:{value:0,text:"现场对战"},simpleComputer:{value:1,text:"简单电脑"},difficultComputer:{value:2,text:"困难电脑"},crazyComputer:{value:3,text:"疯狂电脑"},network:{value:4,text:"网络对战"}},j={none:{value:0,text:"空"},black:{value:1,text:"黑"},white:{value:2,text:"白"}},P=["A","B","C","D","E","F","G","H","I","J","K","L","N","M","O"],I={opponent:N,pieceColor:j,letter:P},S=(n("386d"),n("6b54"),n("a481"),n("2909")),F=function t(e){var n,o=toString.call(e);if("[object Object]"!==o&&"[object Array]"!==o)return e;for(var a in"[object Object]"===o?n=Object(D["a"])({},e):"[object Array]"===o&&(n=Object(S["a"])(e)),n)n[a]=t(n[a]);return n},M=F,T=function(){for(var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],n={},o=0;o<e.length;o++){var a=e[o];t.hasOwnProperty(a)&&(n[a]=t[a])}return n},$=function(t,e){var n=toString.call(t);if("[object Array]"===n){for(var o=0;o<t.length;o++)if(!1===e(t[o],o))break}else for(var a in t)if(!1===e(t[a],a))break},L=function(t){return{_d:t,__proto__:{unix:function(){return Math.floor(this._d/1e3)},year:function(){return this._d.getFullYear()},month:function(){return this._d.getMonth()+1},date:function(){return this._d.getDate()},hour:function(){return this._d.getHours()},minute:function(){return this._d.getMinutes()},seconds:function(){return this._d.getSeconds()},format:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"YYYY-MM-DD h:mm:ss",e=this.year(),n=this.month(),o=this.date(),a=this.hour(),i=this.minute(),s=this.seconds();return t=t.replace(/YYYY/g,e),t=t.replace(/YY/g,e%100),t=t.replace(/MM/g,n<10?"0".concat(n):n),t=t.replace(/M/g,n),t=t.replace(/DD/g,o<10?"0".concat(o):o),t=t.replace(/D/g,o),t=t.replace(/hh/g,a<10?"0".concat(a):a),t=t.replace(/h/g,a),t=t.replace(/mm/g,i<10?"0".concat(i):i),t=t.replace(/m/g,i),t=t.replace(/ss/g,s<10?"0".concat(s):s),t=t.replace(/s/g,s),t}}}};function E(t){return L(t?new Date(t):new Date)}E.unix=function(t){return L(new Date(1e3*t))};var A=E,K=M,R=T,G=$,Y=A,B=function(){function t(){Object(C["a"])(this,t),this.priorities=["4+","_3+_","3+_","_2++_","2++_","_1+++_","1+++_"],this.init()}return Object(y["a"])(t,[{key:"init",value:function(){this.pieceKey={};var t=this.toObject({});this.black=t.black,this.white=t.white}},{key:"toObject",value:function(t){var e={};return G(this.priorities,function(n){e={white:Object(D["a"])({},e.white,Object(k["a"])({},n,K(t))),black:Object(D["a"])({},e.black,Object(k["a"])({},n,K(t)))}}),e}},{key:"updateItem",value:function(t,e,n,o,a){var i=this,s=this.getTypeKeys(o),r=this.getTypeKeys(a),c=this.pieceKey[t][e][n];G(r,function(t,n){if(!t||0===t.length)return!0;var o=n?"white":"black";G(a,function(a,r){var l=t[r];if(l&&l!==s[n][r]){var u=c[r],d=i[u][o][l][e],h=d.indexOf(c);-1!==h&&(d.splice(h,1),0===d.length&&i[o][l][u]&&delete i[o][l][u][e],"{}"===JSON.stringify(i[o][l][u])&&delete i[o][l][u])}})}),G(s,function(t,n){var o=n?"white":"black";G(t,function(t,n){if(t){var a=c[n],s=i[a]||i.toObject({});s[o][t][e]=s[o][t][e]||[],-1===s[o][t][e].indexOf(c)&&s[o][t][e].push(c),i[a]=s,i[o][t][a]=s[o][t]}})}),G(this[t],function(e,n){G(e,function(e,o){delete i[n][o][t]})})}},{key:"getTypeKeys",value:function(t){var e=this,n=[[],[]],o=t.toString().replace(/,/g,"");if((!/1/.test(o)||/^(2.+2)$|^(.+2.+)$/.test(o)||5===o.length&&/2/.test(o))&&(n[0]=!1),(!/2/.test(o)||/^(1.+1)$|^(.+1.+)$/.test(o)||5===o.length&&/1/.test(o))&&(n[1]=!1),!n[0]&&!n[1])return n;if(5===o.length){var a=n[0]||n[1],i=o.replace(/0/g,"").length,s=this.priorities[2*(4-i)];return G(t,function(t,e){a[e]=t?"":s}),n}if(n[0]&&n[1])return G(t,function(t,o){n[0][o]=t?"":e.priorities[6],n[1][o]=t?"":e.priorities[6]}),n;o=n[0]?o.replace("2",""):o.replace("1","");var r=o.replace(/0/g,"").length,c=n[0]||n[1];if(5===o.length){var l=this.priorities[2*(4-r)];return G(t,function(t,e){c[e]=t?"":l}),n}if(5===r){var u=o.search("0");c[u]=this.priorities[0]}else if(4===r){var d=o.search("0"),h=d+1+o.slice(d+1,6).search("0");0===d&&5===h?(c[d]=this.priorities[0],c[h]=this.priorities[0]):0!==d&&5!==h?(c[d]=this.priorities[2],c[h]=this.priorities[2]):(c[d]=0===d?this.priorities[2]:this.priorities[0],c[h]=5===h?this.priorities[2]:this.priorities[0])}else if(3===r){var p=o.search("0"),f=p+1+o.slice(p+1,6).search("0"),m=f+1+o.slice(f+1,6).search("0");0===p&&5===m?(c[p]=this.priorities[2],c[f]=this.priorities[1],c[m]=this.priorities[2]):0!==p&&5!==m?(c[p]=this.priorities[4],c[f]=this.priorities[4],c[m]=this.priorities[4]):(c[p]=0===p?this.priorities[4]:this.priorities[2],c[f]=this.priorities[2],c[m]=5===m?this.priorities[4]:this.priorities[2])}else if(2===r){var v=o.search("0"),b=v+1+o.slice(v+1,6).search("0"),g=b+1+o.slice(b+1,6).search("0"),_=g+1+o.slice(g+1,6).search("0");0===v&&5===_?(c[v]=this.priorities[4],c[b]=this.priorities[3],c[g]=this.priorities[3],c[_]=this.priorities[4]):0!==v&&5!==_?(c[v]=this.priorities[6],c[b]=this.priorities[6],c[g]=this.priorities[6],c[_]=this.priorities[6]):(c[v]=0===v?this.priorities[6]:this.priorities[4],c[b]=this.priorities[4],c[g]=this.priorities[4],c[_]=5===_?this.priorities[6]:this.priorities[4])}else G(t,function(n,o){if(n)return!0;0===o||5===o?c[o]=n||0!==t[0===o?5:0]?"":e.priorities[6]:0===t[0]&&0===t[5]?c[o]=e.priorities[5]:c[o]=e.priorities[6]});return n}},{key:"getBestKeys",value:function(t){var e=this,n=[],o=1===t?"black":"white",a=2===t?"black":"white";if(G(this.priorities,function(t){return n=e.getKeys(o,t),!n.length&&(n=e.getKeys(a,t),!n.length&&void 0)}),n.length>1){var i=0,s=[];G(n,function(t){var n=0;G(e[t],function(t){G(t,function(t){G(t,function(t){n+=t.length})})}),n>i?(i=n,s=[t]):n===i&&s.push(t)}),n=s}return n}},{key:"getKeys",value:function(t,e){var n=this,o=0,a=[],i=[];if(G(this[t][e],function(s,r){var c=0,l="",u=0;if(G(s,function(t,e){l=e,c++,u+=t.length}),[n.priorities[2],n.priorities[4]].indexOf(e)>-1&&c<2){var d=!1;if(G(n.priorities.slice(3,7),function(e){var o=0;if(G(n[r][t][e],function(t,e){l!=e&&o++}),o)return d=!0,!1}),!d)return!1}c>o?(a=[r],i=[u],o=c):c===o&&(a.push(r),i.push(u))}),a.length>1){o=0;var s=[];G(i,function(t,e){t>o?(o=t,s=[a[e]]):t===o&&s.push(a[e])}),a=s}return a}},{key:"setPieceKeys",value:function(t){var e=this;G(t,function(t,n){G(t,function(t){if(5===t.length)G(t,function(o){e.setPieceKey(o,n,t)});else if(t.length>5)for(var o=function(o){var a=t.slice(o,o+6);G(a,function(t){e.setPieceKey(t,n,a)})},a=0;a<t.length-5;a++)o(a)})})}},{key:"setPieceKey",value:function(t,e,n){this.pieceKey[t]=this.pieceKey[t]||{},this.pieceKey[t][e]=[].concat(this.pieceKey[t][e]||[]).concat([n])}}]),t}(),U=B,J=O.LOGS,q=O.LOG,Q=O.USER_NAME,H=O.OPPONENT_NAME,X=(I.letter,I.pieceColor),z=I.opponent,V=U,W=function(){function t(){Object(C["a"])(this,t),this.init()}return Object(y["a"])(t,[{key:"init",value:function(){this.baseData={},this.countData={},this.tbk=[],this.lrk=[],this.ltrbk=[],this.rtlbk=[];for(var t=1;t<16;t++){this.tbk[t-1]=[],this.lrk[t-1]=[];var e=2*(t-1);t<12&&(this.ltrbk[e]=[],this.rtlbk[e]=[],e>0&&(this.ltrbk[e-1]=[],this.rtlbk[e-1]=[]));for(var n=1,o=t,a=16-t;n<16;n++,o++,a--){var i="".concat(t,"-").concat(n);this.tbk[t-1].push(i),this.lrk[t-1].push("".concat(n,"-").concat(t)),1===t?(this.ltrbk[0].push("".concat(o,"-").concat(n)),this.rtlbk[0].push("".concat(n,"-").concat(a))):t<12&&o<16&&(this.ltrbk[e-1].push("".concat(o,"-").concat(n)),this.ltrbk[e].push("".concat(n,"-").concat(o)),this.rtlbk[e-1].push("".concat(n,"-").concat(a)),this.rtlbk[e].push("".concat(n+t-1,"-").concat(a+t-1)));var s=Object(D["a"])({},X.none,{x:t,y:n,key:i,active:!1});this.baseData[i]=s;for(var r=0;r<4;r++){var c=r+1,l=n-c,u=t+c,d=n+c,h=t-c;if(l>0){var p="".concat(t,"-").concat(l);this.setCountItem(p,"b",r,s)}if(l>0&&u<16){var f="".concat(u,"-").concat(l);this.setCountItem(f,"lb",r,s)}if(u<16){var m="".concat(u,"-").concat(n);this.setCountItem(m,"l",r,s)}if(u<16&&d<16){var v="".concat(u,"-").concat(d);this.setCountItem(v,"lt",r,s)}if(d<16){var b="".concat(t,"-").concat(d);this.setCountItem(b,"t",r,s)}if(d<16&&h>0){var g="".concat(h,"-").concat(d);this.setCountItem(g,"rt",r,s)}if(h>0){var _="".concat(h,"-").concat(n);this.setCountItem(_,"r",r,s)}if(h>0&&l>0){var w="".concat(h,"-").concat(l);this.setCountItem(w,"rb",r,s)}}}}}},{key:"setCountItem",value:function(t,e,n,o){var a,i=this.countData[t]||{},s=e+"k",r=i[s]||[];r[n]=o.key,this.countData[t]=Object(D["a"])({},i,(a={},Object(k["a"])(a,e,Object(D["a"])({},i[e],Object(k["a"])({},o.key,o))),Object(k["a"])(a,s,r),a))}}]),t}(),Z=(Object(D["a"])({},O,I),function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{directives:[{name:"show",rawName:"v-show",value:t.visible,expression:"visible"}],staticClass:"modal",on:{click:t.handleMask}},[n("div",{staticClass:"modal-content",style:t.contentStyle,on:{click:function(t){t.stopPropagation()}}},[t.title?n("div",{staticClass:"modal-header"},[t._v("\n      "+t._s(t.title)+"\n      "),t.closable?n("div",{staticClass:"modal-close",on:{click:t.close}},[t._v("X")]):t._e()]):t._e(),n("div",{staticClass:"modal-body"},[t._t("default")],2),t.okText||t.cancelText?n("div",{staticClass:"modal-footer"},[t.okText?n("button",{staticClass:"btn btn-primary",on:{click:t.ok}},[t._v(t._s(t.okText))]):t._e(),t.cancelText?n("button",{staticClass:"btn",on:{click:t.cancel}},[t._v(t._s(t.cancelText))]):t._e()]):t._e()])])}),tt=[],et={name:"Modal",props:{value:{type:Boolean,default:!1},closable:{type:Boolean,default:!0},maskClosable:{type:Boolean,default:!0},title:{type:String,default:""},width:{type:String,default:"450px"},okText:{type:String,default:""},cancelText:{type:String,default:""}},data:function(){return{visible:this.value,contentStyle:{width:this.width}}},watch:{value:function(t){this.visible=t},visible:function(t){this.$emit("visibleChange",t)}},methods:{close:function(){this.visible=!1,this.$emit("input",!1),this.$emit("cancel")},handleMask:function(){this.maskClosable&&this.close()},ok:function(){this.$emit("ok")},cancel:function(){this.close()}}},nt=et,ot=(n("2c63"),Object(c["a"])(nt,Z,tt,!1,null,"7eb258f8",null));ot.options.__file="Modal.vue";var at=ot.exports,it=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"form-group"},[n("div",{staticClass:"label"},[t._v(t._s(t.label))]),"checkbox"!==t.type||t.values?"radio"!==t.type||t.values?t.values?t.values.length?t._l(t.values,function(e,o){return n("label",{key:o},["checkbox"===t.type?n("input",{directives:[{name:"model",rawName:"v-model",value:t.model,expression:"model"}],attrs:{disabled:t.disabled,placeholder:t.placeholder,type:"checkbox"},domProps:{value:e.value,checked:e.value===t.model,checked:Array.isArray(t.model)?t._i(t.model,e.value)>-1:t.model},on:{change:[function(n){var o=t.model,a=n.target,i=!!a.checked;if(Array.isArray(o)){var s=e.value,r=t._i(o,s);a.checked?r<0&&(t.model=o.concat([s])):r>-1&&(t.model=o.slice(0,r).concat(o.slice(r+1)))}else t.model=i},t.handleChange]}}):"radio"===t.type?n("input",{directives:[{name:"model",rawName:"v-model",value:t.model,expression:"model"}],attrs:{disabled:t.disabled,placeholder:t.placeholder,type:"radio"},domProps:{value:e.value,checked:e.value===t.model,checked:t._q(t.model,e.value)},on:{change:[function(n){t.model=e.value},t.handleChange]}}):n("input",{directives:[{name:"model",rawName:"v-model",value:t.model,expression:"model"}],attrs:{disabled:t.disabled,placeholder:t.placeholder,type:t.type},domProps:{value:e.value,checked:e.value===t.model,value:t.model},on:{change:t.handleChange,input:function(e){e.target.composing||(t.model=e.target.value)}}}),t._v(t._s(e.text)+"\n  ")])}):t._e():n("input",{directives:[{name:"model",rawName:"v-model",value:t.model,expression:"model"}],attrs:{disabled:t.disabled,placeholder:t.placeholder,max:t.max,min:t.min,type:t.type},domProps:{value:t.model},on:{change:t.handleChange,input:function(e){e.target.composing||(t.model=e.target.value)}}}):n("input",{directives:[{name:"model",rawName:"v-model",value:t.model,expression:"model"}],attrs:{disabled:t.disabled,placeholder:t.placeholder,max:t.max,min:t.min,type:"radio"},domProps:{checked:t._q(t.model,null)},on:{change:[function(e){t.model=null},t.handleChange]}}):n("input",{directives:[{name:"model",rawName:"v-model",value:t.model,expression:"model"}],attrs:{disabled:t.disabled,placeholder:t.placeholder,max:t.max,min:t.min,type:"checkbox"},domProps:{checked:Array.isArray(t.model)?t._i(t.model,null)>-1:t.model},on:{change:[function(e){var n=t.model,o=e.target,a=!!o.checked;if(Array.isArray(n)){var i=null,s=t._i(n,i);o.checked?s<0&&(t.model=n.concat([i])):s>-1&&(t.model=n.slice(0,s).concat(n.slice(s+1)))}else t.model=a},t.handleChange]}})],2)},st=[],rt=(n("c5f6"),{name:"formGroup",props:{value:{default:""},label:{type:String},type:{type:String,default:"text"},disabled:{type:Boolean,default:!1},placeholder:{type:String},values:{type:Array},max:{type:Number},min:{type:Number}},data:function(){return{model:this.value}},watch:{value:function(t){this.model=t}},methods:{handleChange:function(){"number"===this.type&&(this.model*=1),this.$emit("input",this.model)}}}),ct=rt,lt=(n("e99c"),Object(c["a"])(ct,it,st,!1,null,"efc47b4a",null));lt.options.__file="FormGroup.vue";var ut=lt.exports,dt=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("form",{on:{submit:function(t){t.preventDefault()},keyup:t.keyup}},[n("div",{staticClass:"message"},[t._v(t._s(t.message))]),t._t("default")],2)},ht=[],pt=(n("3b2b"),{props:{formData:Object,rules:Object},data:function(){return{message:""}},methods:{keyup:function(t){13===t.keyCode&&this.$emit("submit")},validate:function(t){for(var e in this.message="",this.rules){var n=this.rules[e];for(var o in n){var a=n[o];if(!0===a.required&&(!this.formData[e]||""===this.formData[e]))return this.callBack(a.message,t);if(a.rgx&&!1===RegExp(a.rgx).test(this.formData[e]))return this.callBack(a.message,t)}}return"function"===typeof t&&t(!0),!0},callBack:function(t,e){return this.message=t,"function"===typeof e&&e(!1),!1}}}),ft=pt,mt=(n("96df"),Object(c["a"])(ft,dt,ht,!1,null,"eeff752a",null));mt.options.__file="Form.vue";var vt=mt.exports,bt={name:"home",components:{Modal:at,FormGroup:ut,cForm:vt},data:function(){return{opponent:K(z),pieceColor:K(X),active:[z.site.value,z.simpleComputer.value],rules:{userName:[{required:!0,message:"黑棋玩家名字不能为空"}],opponentName:[{required:!0,message:"白棋玩家名字不能为空"}],selectedColor:[{rgx:"^(".concat(X.black.value,"|").concat(X.white.value,")$"),message:"选择颜色错误"}],countDown:[{rgx:"^([0-9]+)$",message:"倒计时为正整数"}]},showSiteModal:!1,siteFormData:{userName:localStorage.getItem(Q)||"我",opponentName:localStorage.getItem(H)||"你",countDown:0},siteRules:[],showComputerModal:!1,computerFormData:{userName:localStorage.getItem(Q)||"我",selectedColor:X.black.value,countDown:0},computerRules:[]}},created:function(){window.home=this,this.reset(),this.siteRules=R(this.rules,["userName","opponentName","countDown"]),this.computerRules=R(this.rules,["userName","selectedColor"])},methods:Object(D["a"])({},Object(w["c"])(["setUser","setOpponent","setMode","setCountDown","reset"]),{handleOpponent:function(t){this.setMode(t),t.value===z.site.value?this.showSiteModal=!0:this.showComputerModal=!0},goGage:function(){this.$refs["siteForm"].validate()&&(localStorage.setItem(Q,this.siteFormData.userName),localStorage.setItem(H,this.siteFormData.opponentName),this.setCountDown(this.siteFormData.countDown),this.setUser({name:this.siteFormData.userName,color:X.black,fraction:0}),this.setOpponent({name:this.siteFormData.opponentName,color:X.white,fraction:0}),this.$router.push("game"))},goComputer:function(){this.$refs["computerForm"].validate()&&(localStorage.setItem(Q,this.computerFormData.userName),this.setCountDown(this.computerFormData.countDown),this.setUser({name:this.computerFormData.userName,color:this.computerFormData.selectedColor===X.black.value?X.black:X.white,fraction:0}),this.setOpponent({name:z.simpleComputer.text,color:this.computerFormData.selectedColor===X.black.value?X.white:X.black,fraction:0}),this.$router.push("computer"))}})},gt=bt,_t=(n("4c35"),Object(c["a"])(gt,g,_,!1,null,"060fef54",null));_t.options.__file="Home.vue";var Dt=_t.exports,wt=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"game"},[n("InfoTool"),n("Checkerboard")],1)},kt=[],Ct=function(){var t=this,e=t.$createElement,n=t._self._c||e;return t.user.color?n("div",{staticClass:"info-tool"},[n("div",{staticClass:"item"},[n("div",{staticClass:"col-3"},[n("span",{directives:[{name:"show",rawName:"v-show",value:t.roundNum>0,expression:"roundNum > 0"}]},[t._v("第"+t._s(t.roundNum)+"局")]),n("button",{directives:[{name:"show",rawName:"v-show",value:t.countDown>0&&0===t.roundNum,expression:"countDown > 0 && roundNum === 0"}],on:{click:t.handleStart}},[t._v("开始")]),n("button",{directives:[{name:"show",rawName:"v-show",value:t.roundNum>0&&t.isOver,expression:"roundNum > 0 && isOver"}],on:{click:t.handleNext}},[t._v("下一局")])]),n("div",{staticClass:"col-3"},[n("div",[t._v("比分")]),n("div",{staticClass:"score"},[t._v(t._s(t.user.fraction)+" : "+t._s(t.opponent.fraction))])]),n("div",{staticClass:"col-3"},[1===t.mode.value?n("button",{attrs:{disabled:t.isOver},on:{click:t.handleAutomatic}},[t._v("自动")]):t._e(),n("button",{attrs:{disabled:t.isOver},on:{click:t.handleDefeat}},[t._v("认输")]),n("button",{attrs:{disabled:t.isOver},on:{click:t.handleDraw}},[t._v("和局")]),n("button",{on:{click:t.handleQuit}},[t._v("退出")])])]),n("div",{staticClass:"item"},[n("div",{staticClass:"user"},[n("span",[t._v(t._s(t.user.name)+t._s(t.blank))]),n("Piece",{attrs:{data:{value:t.user.color.value}}}),t.countDown>0?n("div",{staticClass:"time"},[n("div",[t._v("局"+t._s(t.blank)+"时："+t._s(t._f("time")(t.userCountDownTotal)))]),n("div",[t._v("倒计时："+t._s(t._f("time")(t.userCountDown)))])]):t._e()],1),t.isDraw?n("div",[t._v("和局")]):t.fall&&!t.isDraw?n("div",[t.isOver?n("span",[t._v(t._s(t._f("pieceColor")(t.fall))+"方"+t._s(t.isDefeat?"认输":"胜"))]):n("span",[t._v("轮到"+t._s(t._f("pieceColor")(t.fall))+"方下")])]):t._e(),n("div",{staticClass:"user"},[t.countDown>0?n("div",{staticClass:"time"},[n("div",[t._v("局"+t._s(t.blank)+"时："+t._s(t._f("time")(t.opponentCountDownTotal)))]),n("div",[t._v("倒计时："+t._s(t._f("time")(t.opponentCountDown)))])]):t._e(),n("Piece",{attrs:{data:{value:t.opponent.color.value}}}),n("span",[t._v(t._s(t.blank)+t._s(t.opponent.name))])],1)])]):t._e()},yt=[],xt=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"piece"},[t.isOver||t.data.value!==t.pieceColor.none.value?t._e():n("div",{staticClass:"none",on:{click:t.handlePiece}}),t.data.value===t.pieceColor.black.value?n("div",{class:t.data.active?"black acitve":"black"},[t._v(t._s(t.data.index))]):t._e(),t.data.value===t.pieceColor.white.value?n("div",{class:t.data.active?"white acitve":"white"},[t._v(t._s(t.data.index))]):t._e()])},Ot=[],Nt={name:"piece",props:{data:{type:Object,default:function(){return{value:X.none.value,active:!1}}}},data:function(){return{pieceColor:K(X)}},computed:Object(w["d"])({isOver:function(t){return t.isOver}}),methods:Object(D["a"])({},Object(w["c"])(["setDownPiece"]),{handlePiece:function(){this.setDownPiece(this.data)}})},jt=Nt,Pt=(n("2a31"),Object(c["a"])(jt,xt,Ot,!1,null,"4c940622",null));Pt.options.__file="Piece.vue";var It=Pt.exports,St={name:"infoTool",components:{Piece:It},data:function(){return{blank:"　",userCountDown:0,userCountDownTotal:0,opponentCountDown:0,opponentCountDownTotal:0,timeout:""}},computed:Object(w["d"])({user:function(t){return t.user},opponent:function(t){return t.opponent},fall:function(t){return t.fall},countDown:function(t){return t.countDown},roundNum:function(t){return t.roundNum},isOver:function(t){return t.isOver},isDefeat:function(t){return t.isDefeat},isDraw:function(t){return t.isDraw},mode:function(t){return t.mode}}),watch:{fall:function(t){var e=this;if(t&&this.countDown)if(clearTimeout(this.timeout),this.fall===this.user.color.value){this.opponentCountDownTotal+=this.countDown-this.opponentCountDown,this.opponentCountDown=0,this.userCountDown=this.countDown;var n=function t(){e.timeout=setTimeout(function(){e.userCountDown--,0!==e.userCountDown?t():e.defeat()},1e3)};n()}else{this.userCountDownTotal+=this.countDown-this.userCountDown,this.userCountDown=0,this.opponentCountDown=this.countDown;var o=function t(){e.timeout=setTimeout(function(){e.opponentCountDown--,0!==e.opponentCountDown?t():e.defeat()},1e3)};o()}},roundNum:function(){this.countDown&&(this.userCountDownTotal=0,this.userCountDown=this.countDown,this.opponentCountDownTotal=0,this.opponentCountDown=this.countDown)}},methods:Object(D["a"])({},Object(w["b"])(["defeat","next","start","draw"]),Object(w["c"])(["getAutomatic"]),{handleStart:function(){this.start()},handleAutomatic:function(){this.getAutomatic()},handleDefeat:function(){this.defeat()},handleNext:function(){this.next()},handleDraw:function(){this.draw()},handleQuit:function(){this.$router.go(-1)}})},Ft=St,Mt=(n("4adc"),Object(c["a"])(Ft,Ct,yt,!1,null,"e38bf7f2",null));Mt.options.__file="InfoTool.vue";var Tt=Mt.exports,$t=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"checkerboard"},[n("CheckerboardBase",{attrs:{baseData:t.piecesData.baseData}})],1)},Lt=[],Et=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"content"},[n("div",{staticClass:"checkerboard"},[n("div",{staticClass:"line-row"}),n("div",{staticClass:"line-col"}),n("div",{staticClass:"spot"}),n("div",{staticClass:"num"},t._l(15,function(e){return n("div",{key:e},[t._v(t._s(e))])})),n("div",{staticClass:"letter"},t._l(15,function(e){return n("div",{key:e},[t._v(t._s(t._f("letter")(e-1)))])})),n("div",{staticClass:"pieces"},t._l(15,function(e){return n("div",{key:e,staticClass:"row"},t._l(15,function(o){return n("Piece",{key:o,attrs:{data:t.baseData[o+"-"+e]}})}))}))])])},At=[],Kt={name:"checkerboard",props:{baseData:{type:Object,default:function(){return{}}}},components:{Piece:It}},Rt=Kt,Gt=(n("bbd5"),Object(c["a"])(Rt,Et,At,!1,null,"05a5770b",null));Gt.options.__file="CheckerboardBase.vue";var Yt=Gt.exports,Bt={name:"checkerboard",components:{CheckerboardBase:Yt},data:function(){return{piecesData:{},priority:{}}},computed:Object(w["d"])({fall:function(t){return t.fall},user:function(t){return t.user},opponent:function(t){return t.opponent},downPiece:function(t){return t.downPiece},roundNum:function(t){return t.roundNum},countDown:function(t){return t.countDown},mode:function(t){return t.mode},automatic:function(t){return t.automatic},logPieces:function(t){return t.logPieces}}),watch:{roundNum:function(){this.initData()},downPiece:function(t){this.handlePiece(t)},automatic:function(t){t&&0===this.logPieces.length&&this.setDownPiece(this.piecesData.baseData["8-8"])}},created:function(){window.cb=this,!this.countDown&&this.start()},methods:Object(D["a"])({},Object(w["b"])(["victory","start"]),Object(w["c"])(["setFall","setDownPiece"]),{handlePiece:function(t){var e=this.piecesData.baseData[t.key];e.value=this.fall,!0!==this.handleIsOver(e)?(this.fall===X.black.value?(e.text=X.black.text,this.setFall(X.white.value)):(e.text=X.white.text,this.setFall(X.black.value)),this.mode.value===z.simpleComputer.value&&(this.handlePriority(e),this.automatic?setTimeout(this.computerDownPiece,1e3):this.fall===this.opponent.color.value&&this.computerDownPiece())):this.victory()},handlePriority:function(t){var e=this;G(this.priority.pieceKey[t.key],function(n,o){G(n,function(n,a){var i=[],s=[];G(n,function(n){var o=e.piecesData.baseData[n].value;i.push(o),n===t.key?s.push(X.none.value):s.push(o)}),e.priority.updateItem(t.key,o,a,i,s)})})},computerDownPiece:function(){var t=this.priority.getBestKeys(this.fall);this.setDownPiece(this.piecesData.baseData[t[Math.floor(Math.random()*t.length)]])},handleIsOver:function(t){var e=!1,n=this.piecesData.countData[t.key],o=this.getConnections(n.tk),a=this.getConnections(n.bk),i=this.getConnections(n.rtk),s=this.getConnections(n.lbk),r=this.getConnections(n.rk),c=this.getConnections(n.lk),l=this.getConnections(n.rbk),u=this.getConnections(n.ltk),d=[t];if(1+o.length+a.length>4&&(d=d.concat(o,a),e=!0),1+i.length+s.length>4&&(d=d.concat(i,s),e=!0),1+r.length+c.length>4&&(d=d.concat(r,c),e=!0),1+l.length+u.length>4&&(d=d.concat(l,u),e=!0),e)for(var h in d)d[h].active=!0;return e},getConnections:function(t){var e=[];for(var n in t){var o=this.piecesData.baseData[t[n]];if(o.value!==this.fall)break;e.push(o)}return e},initData:function(){this.setFall(X.black.value),this.piecesData=new W,this.mode.value===z.simpleComputer.value&&(this.priority=new V,this.priority.setPieceKeys(R(this.piecesData,["tbk","lrk","ltrbk","rtlbk"])),(this.fall===this.opponent.color.value||this.automatic)&&this.setDownPiece(this.piecesData.baseData["8-8"]))}})},Ut=Bt,Jt=Object(c["a"])(Ut,$t,Lt,!1,null,null,null);Jt.options.__file="Checkerboard.vue";var qt=Jt.exports,Qt={name:"game",components:{InfoTool:Tt,Checkerboard:qt}},Ht=Qt,Xt=Object(c["a"])(Ht,wt,kt,!1,null,null,null);Xt.options.__file="Game.vue";var zt=Xt.exports,Vt=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"game"},[n("InfoTool"),n("Checkerboard")],1)},Wt=[],Zt={name:"game",components:{InfoTool:Tt,Checkerboard:qt}},te=Zt,ee=Object(c["a"])(te,Vt,Wt,!1,null,null,null);ee.options.__file="Computer.vue";var ne=ee.exports,oe=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"log"},[n("div",{staticClass:"title"},[t._v("记录")]),n("div",{staticClass:"table",attrs:{oncontextmenu:"return false"},on:{mousedown:t.handleTableMousedown}},[t._m(0),t._l(t.logs,function(e,o){return n("div",{key:o,staticClass:"table-row",attrs:{title:"右击查看更多"},on:{mousedown:function(n){t.handleItemMousedown(n,e,o)}}},[n("div",{staticClass:"table-cell"},[t._v(t._s(o+1))]),n("div",{staticClass:"table-cell"},[t._v(t._s(t._f("dateFormat")(e.date)))]),n("div",{staticClass:"table-cell"},[t._v(t._s(e.user.name)+" - "+t._s(e.opponent.name))]),n("div",{staticClass:"table-cell"},[t._v(t._s(e.user.fraction)+" - "+t._s(e.opponent.fraction))]),n("div",{staticClass:"table-cell"},[t._v(t._s(e.roundNum))])])}),n("div",{directives:[{name:"show",rawName:"v-show",value:t.isShowMenu,expression:"isShowMenu"}],staticClass:"menu",style:t.menuStyle,on:{mouseleave:function(e){t.isShowMenu=!1}}},[n("div",{staticClass:"item",on:{click:t.handleDelete}},[t._v("删除")]),n("div",{staticClass:"item",on:{click:t.handleDeleteAll}},[t._v("删除全部")])])],2),t.logs.length?t._e():n("div",{staticClass:"no-data"},[t._v("没数据")])])},ae=[function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"table-header"},[n("div",{staticClass:"table-cell"},[t._v("序号")]),n("div",{staticClass:"table-cell"},[t._v("日期")]),n("div",{staticClass:"table-cell"},[t._v("对手")]),n("div",{staticClass:"table-cell"},[t._v("比分")]),n("div",{staticClass:"table-cell"},[t._v("局数")])])}],ie={name:"log",data:function(){return{menuStyle:{top:0,left:0},isShowMenu:!1}},computed:Object(w["d"])({logs:function(t){return t.log.logs}}),created:function(){window.log=this,this.getLogs()},methods:Object(D["a"])({},Object(w["b"])(["getLogs","delLog","delAllLog"]),{handleTableMousedown:function(t){3===t.which&&(this.menuStyle={top:t.layerY+"px",left:t.layerX+"px"})},handleItemMousedown:function(t,e,n){1===t.which?this.$router.push({name:"logDetail",params:{id:e.date}}):3===t.which&&(this.isShowMenu=!0,this.handleDelete.index=n)},handleDelete:function(){this.isShowMenu=!1,this.delLog(this.handleDelete.index)},handleDeleteAll:function(){this.delAllLog()}})},se=ie,re=(n("a9f6"),Object(c["a"])(se,oe,ae,!1,null,"00983dbf",null));re.options.__file="Log.vue";var ce=re.exports,le=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"log-detail"},[n("div",{staticClass:"title"},[t._v("复盘")]),n("div",{staticClass:"content"},[n("LogCheckerboard"),n("LogInfoTool")],1)])},ue=[],de=function(){var t=this,e=t.$createElement,n=t._self._c||e;return t.detail.user?n("div",{staticClass:"info-tool"},[n("div",{staticClass:"item"},[t._v("时间："+t._s(t._f("dateFormat")(t.logDetail.date,"YYYY-MM-DD")))]),n("div",{staticClass:"item"},[t._v("第"+t._s(t.detail.roundNum)+"局 （总"+t._s(t.logDetail.list.length)+"局）")]),n("div",{staticClass:"item"},[t._v("比分："+t._s(t.fraction))]),n("div",{staticClass:"item"},[n("button",{attrs:{disabled:0===t.logDetail.list.length||1===t.detail.roundNum},on:{click:t.handleUpRound}},[t._v("上一局")]),n("button",{attrs:{disabled:0===t.logDetail.list.length||t.detail.roundNum===t.logDetail.list.length},on:{click:t.handleDnRound}},[t._v("下一局")]),n("button",{attrs:{disabled:0===t.pieceIndex},on:{click:t.handleUp}},[t._v("上一棋")]),n("button",{attrs:{disabled:t.pieceIndex>=t.detail.pieces.length},on:{click:t.handleDn}},[t._v("下一棋")]),n("button",{on:{click:t.handleQuit}},[t._v("退出")])]),n("div",{staticClass:"item"},[n("Piece",{attrs:{data:{value:t.detail.user.color.value}}}),n("span",[t._v(t._s(t.blank)+t._s(t.detail.user.name))])],1),n("div",{staticClass:"item"},[n("Piece",{attrs:{data:{value:t.detail.opponent.color.value}}}),n("span",[t._v(t._s(t.blank)+t._s(t.detail.opponent.name))])],1),t.logDetail.countDown?n("div",{staticClass:"item"},[t._v("倒计时："+t._s(t._f("time")(t.logDetail.countDown)))]):t._e(),n("div",{staticClass:"log"},t._l(t.logTexts,function(e,o){return n("div",{key:o},[n("span",{staticClass:"time"},[t._v(t._s(t._f("dateFormat")(e.date,"h:mm:ss")))]),t._v(t._s(e.text)+"\n    ")])}))]):t._e()},he=[],pe={name:"logInfoTool",components:{Piece:It},data:function(){return{blank:"　",detail:{},fraction:"0 - 0",pieceIndex:0,logTexts:[]}},computed:Object(w["d"])({logDetail:function(t){return t.log.log}}),watch:{logDetail:function(t){this.detail=t.list[0]},detail:function(t){this.fraction="".concat(t.user.fraction," - ").concat(t.opponent.fraction),this.pieceIndex=0,this.setLogRoundNum(this.detail.roundNum),this.logTexts=[{date:t.startDate,text:"开始"}],t.pieces&&0!==t.pieces.length||this.handleEnd()}},created:function(){window.lit=this,this.getLog(this.$route.params.id)},methods:Object(D["a"])({},Object(w["b"])(["getLog"]),Object(w["c"])(["setDownPiece","setLogRoundNum"]),{handleUpRound:function(){this.detail.roundNum>1&&(this.detail=this.logDetail.list[this.detail.roundNum-2])},handleDnRound:function(){var t=this.logDetail.list.length;t>1&&this.detail.roundNum<t&&(this.detail=this.logDetail.list[this.detail.roundNum])},handleUp:function(){this.pieceIndex===this.detail.pieces.length&&this.logTexts.shift(),this.pieceIndex--;var t=Object(D["a"])({},this.detail.pieces[this.pieceIndex],{value:X.none.value,isLog:!0});t.key="".concat(t.x,"-").concat(t.y),this.setDownPiece(t),this.logTexts.shift(),this.fraction="".concat(this.detail.user.fraction," - ").concat(this.detail.opponent.fraction)},handleDn:function(){if(!(this.pieceIndex>=this.detail.pieces.length)){var t=this.pieceIndex%2?X.white:X.black,e=Object(D["a"])({},this.detail.pieces[this.pieceIndex],{value:t.value,index:this.pieceIndex+1,isLog:!0});e.key="".concat(e.x,"-").concat(e.y),this.setDownPiece(e),this.logTexts=[].concat([{date:e.date,text:"".concat(this.$options.filters.letter(e.x-1)).concat(e.y).concat(t.text)}],this.logTexts),this.pieceIndex++,this.pieceIndex===this.detail.pieces.length&&this.handleEnd(e)}},handleEnd:function(t){var e,n,o,a="";if(this.detail.roundNum<this.logDetail.list.length){var i=this.logDetail.list[this.detail.roundNum];n=i.user,o=i.opponent}else n=this.logDetail.user,o=this.logDetail.opponent;if(e="".concat(n.fraction," - ").concat(o.fraction),this.fraction===e)a+="和局";else if(this.detail.isDefeat){var s=this.pieceIndex%2?X.white:X.black,r=this.detail.startDate,c=this.detail.endDate;t&&(r=t.date),this.logDetail.countDown===c-r?a="倒计时结束，"+s.text+"方输":a+=s.text+"方认输"}else{var l=this.pieceIndex%2?X.black:X.white;a+=l.text+"方胜"}this.logTexts=[].concat({date:this.detail.endDate,text:a},this.logTexts),this.fraction=e},handleQuit:function(){this.$router.go(-1)}})},fe=pe,me=(n("41a4"),Object(c["a"])(fe,de,he,!1,null,"1c1db685",null));me.options.__file="LogInfoTool.vue";var ve=me.exports,be=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"log-checkerboard"},[n("CheckerboardBase",{attrs:{baseData:t.baseData}})],1)},ge=[],_e={name:"logCheckerboard",components:{CheckerboardBase:Yt},data:function(){return{baseData:{}}},computed:Object(D["a"])({},Object(w["d"])({downPiece:function(t){return t.downPiece},roundNum:function(t){return t.log.roundNum}})),watch:{downPiece:function(t){var e=this.baseData[t.key];e.value=t.value,e.index=t.index},roundNum:function(){this.init()}},created:function(){window.lcb=this,this.init()},methods:{init:function(){var t=new W,e=t.baseData;this.baseData=e}}},De=_e,we=Object(c["a"])(De,be,ge,!1,null,null,null);we.options.__file="LogCheckerboard.vue";var ke=we.exports,Ce={name:"logDeatil",components:{LogInfoTool:ve,LogCheckerboard:ke},created:function(){window.logDetail=this}},ye=Ce,xe=(n("0f00"),Object(c["a"])(ye,le,ue,!1,null,"00085041",null));xe.options.__file="LogDetail.vue";var Oe=xe.exports,Ne=[{path:"/",name:"home",component:Dt},{path:"/game",name:"game",component:zt},{path:"/computer",name:"computer",component:ne},{path:"/log",name:"log",component:ce},{path:"/log/:id",name:"logDetail",component:Oe},{path:"*",name:"error",component:b}],je="lin09.github.io"===window.location.hostname;o["a"].use(d["a"]);var Pe=new d["a"]({mode:je?"hash":"history",base:je?window.location.pathname:"/",routes:Ne}),Ie=function(t){localStorage.setItem(J,JSON.stringify(t))},Se=function(){var t=localStorage.getItem(J);try{t=JSON.parse(t)||[]}catch(e){t=[]}return t},Fe=function(t){localStorage.setItem("".concat(q).concat(t.date),JSON.stringify(t))},Me=function(t){var e=localStorage.getItem("".concat(q).concat(t));try{e=JSON.parse(e)||{}}catch(n){e={}}return e},Te=function(t){localStorage.removeItem("".concat(q).concat(t))},$e={state:{logs:[],log:{},roundNum:1},mutations:{setLogs:function(t,e){t.logs=e},setLog:function(t,e){t.log=e},setLogRoundNum:function(t,e){t.roundNum=e}},actions:{getLogs:function(t){var e=t.commit,n=Se();e("setLogs",n)},getLog:function(t,e){var n=t.commit,o=Me(e);n("setLog",o)},delLog:function(t,e){var n=t.commit,o=t.state,a=o.logs[e];Te(a.date),o.logs.splice(e,1),Ie(o.logs),n("setLogs",o.logs)},delAllLog:function(t){for(var e=t.commit,n=t.state,o=0;o<n.logs.length;o++){var a=n.logs[o];Te(a.date)}Ie([]),e("setLogs",[])}}};o["a"].use(w["a"]);var Le={user:{},opponent:{},mode:{},fall:0,countDown:0,roundNum:0,isOver:!0,isDefeat:!1,isDraw:!1,startDate:0,currentDate:0,downPiece:{},logPieces:[],automatic:!1},Ee=new w["a"].Store({state:K(Le),mutations:{setUser:function(t,e){if(t.user=e,e.fraction){var n=Se(),o=n[n.length-1]||{};if(o.date===t.startDate){o.user=R(e,["name","fraction"]),Ie(n);var a=Me(t.startDate)||{};a.user=e,Fe(a)}}},setOpponent:function(t,e){if(t.opponent=e,e.fraction){var n=Se(),o=n[n.length-1]||{};if(o.date===t.startDate){o.opponent=R(e,["name","fraction"]),Ie(n);var a=Me(t.startDate)||{};a.opponent=e,Fe(a)}}},setMode:function(t,e){t.mode=e},setFall:function(t,e){t.fall=e},setCountDown:function(t,e){t.countDown=e},incrementRoundNum:function(t){var e=Y().unix();t.currentDate=e,t.isDefeat=!1,t.isDraw=!1,t.logPieces=[],t.fall=0,t.roundNum++,1===t.roundNum&&(t.startDate=e)},setIsDefeat:function(t,e){t.isDefeat=e},setIsDraw:function(t,e){t.isDraw=e},setIsOver:function(t,e){if(t.isOver=e,!0===e){var n=Se(),o={date:t.startDate,roundNum:t.roundNum,user:R(t.user,["name","fraction"]),opponent:R(t.opponent,["name","fraction"])};(n[n.length-1]||{}).date!==t.startDate?n.push(o):n[n.length-1]=o,Ie(n);var a=Me(t.startDate);Fe(Object(D["a"])({},a,{date:t.startDate,user:t.user,opponent:t.opponent,countDown:t.countDown,list:Object(S["a"])(a.list||[]).concat([{roundNum:t.roundNum,user:t.user,opponent:t.opponent,startDate:t.currentDate,endDate:Y().unix(),pieces:t.logPieces,isDefeat:t.isDefeat}])}))}},setDownPiece:function(t,e){t.downPiece=e,e.isLog||t.logPieces.push({date:Y().unix(),x:e.x,y:e.y})},getAutomatic:function(t){t.automatic=!t.automatic},reset:function(t){var e=K(Le);for(var n in e)t[n]=e[n]}},actions:{start:function(t){var e=t.commit;e("incrementRoundNum"),e("setIsOver",!1)},defeat:function(t){var e=t.commit,n=t.state;e("setIsDefeat",!0),e("setIsOver",!0),n.fall!==n.user.color.value?e("setUser",Object(D["a"])({},n.user,{fraction:n.user.fraction+1})):e("setOpponent",Object(D["a"])({},n.opponent,{fraction:n.opponent.fraction+1}))},victory:function(t){var e=t.commit,n=t.state;e("setIsOver",!0),n.fall===n.user.color.value?e("setUser",Object(D["a"])({},n.user,{fraction:n.user.fraction+1})):e("setOpponent",Object(D["a"])({},n.opponent,{fraction:n.opponent.fraction+1}))},draw:function(t){var e=t.commit;e("setIsOver",!0),e("setIsDraw",!0)},next:function(t){var e=t.commit,n=t.state;e("setUser",Object(D["a"])({},n.user,{color:n.user.color.value!==X.black.value?X.black:X.white})),e("setOpponent",Object(D["a"])({},n.opponent,{color:n.opponent.color.value!==X.black.value?X.black:X.white})),e("incrementRoundNum"),e("setIsOver",!1)}},modules:{log:$e}}),Ae={},Ke=function(t){Ae[t]=function(e){var n=I[t],o=toString.call(n);if("[object Array]"===o)return"[object Number]"!==toString.call(e)?e:e>n.length?e:n[e];if("[object Object]"===o){for(var a in n){var i=n[a];if(e===i.value)return i.text}return e}}};for(var Re in I)Ke(Re);var Ge=Object(D["a"])({},Ae,{dateFormat:function(t,e){return t?Y.unix(t).format(e):t},time:function(t){var e=Math.floor(t/60);e<10&&(e="0".concat(e));var n=t%60;return n<10&&(n="0".concat(n)),"".concat(e," : ").concat(n)}});for(var Ye in Ge)o["a"].filter(Ye,Ge[Ye]);o["a"].config.productionTip=!1,new o["a"]({router:Pe,store:Ee,render:function(t){return t(u)}}).$mount("#app")},5971:function(t,e,n){},"5c0b":function(t,e,n){"use strict";var o=n("5e27"),a=n.n(o);a.a},"5e27":function(t,e,n){},"62e3":function(t,e,n){},6438:function(t,e,n){},"74dd":function(t,e,n){},"82a3":function(t,e,n){},"8c5d":function(t,e,n){"use strict";var o=n("5971"),a=n.n(o);a.a},"96df":function(t,e,n){"use strict";var o=n("c0fb"),a=n.n(o);a.a},"98d6":function(t,e,n){},a9f6:function(t,e,n){"use strict";var o=n("f3fb"),a=n.n(o);a.a},bbd5:function(t,e,n){"use strict";var o=n("98d6"),a=n.n(o);a.a},c0fb:function(t,e,n){},e99c:function(t,e,n){"use strict";var o=n("fbd4"),a=n.n(o);a.a},f3fb:function(t,e,n){},f7c0:function(t,e,n){},fbd4:function(t,e,n){}});