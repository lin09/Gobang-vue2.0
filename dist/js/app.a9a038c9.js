(function(t){function e(e){for(var a,s,c=e[0],r=e[1],l=e[2],d=0,f=[];d<c.length;d++)s=c[d],o[s]&&f.push(o[s][0]),o[s]=0;for(a in r)Object.prototype.hasOwnProperty.call(r,a)&&(t[a]=r[a]);u&&u(e);while(f.length)f.shift()();return i.push.apply(i,l||[]),n()}function n(){for(var t,e=0;e<i.length;e++){for(var n=i[e],a=!0,c=1;c<n.length;c++){var r=n[c];0!==o[r]&&(a=!1)}a&&(i.splice(e--,1),t=s(s.s=n[0]))}return t}var a={},o={app:0},i=[];function s(e){if(a[e])return a[e].exports;var n=a[e]={i:e,l:!1,exports:{}};return t[e].call(n.exports,n,n.exports,s),n.l=!0,n.exports}s.m=t,s.c=a,s.d=function(t,e,n){s.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:n})},s.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},s.t=function(t,e){if(1&e&&(t=s(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var n=Object.create(null);if(s.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var a in t)s.d(n,a,function(e){return t[e]}.bind(null,a));return n},s.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return s.d(e,"a",e),e},s.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},s.p="/Gobang-vue2.0/dist/";var c=window["webpackJsonp"]=window["webpackJsonp"]||[],r=c.push.bind(c);c.push=e,c=c.slice();for(var l=0;l<c.length;l++)e(c[l]);var u=r;i.push([0,"chunk-vendors"]),n()})({0:function(t,e,n){t.exports=n("56d7")},"06ff":function(t,e,n){"use strict";var a=n("5240"),o=n.n(a);o.a},"258c":function(t,e,n){},"30f1":function(t,e,n){"use strict";var a=n("258c"),o=n.n(a);o.a},"3bc6":function(t,e,n){"use strict";var a=n("4fe6"),o=n.n(a);o.a},"4b2b":function(t,e,n){"use strict";var a=n("fab6"),o=n.n(a);o.a},"4d23":function(t,e,n){},"4fe6":function(t,e,n){},5240:function(t,e,n){},"56d7":function(t,e,n){"use strict";n.r(e);n("cadf"),n("551c"),n("097d");var a=n("2b0e"),o=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{attrs:{id:"app"}},[n("router-view")],1)},i=[],s={name:"app"},c=s,r=(n("5c0b"),n("2877")),l=Object(r["a"])(c,o,i,!1,null,null,null);l.options.__file="App.vue";var u=l.exports,d=n("8c4f"),f=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"error"},[n("div",{staticClass:"code"},[t._v(t._s(t.$route.query.errorCode))])])},h=[],v={name:"error",data:function(){return{errorCode:0}},created:function(){this.errorCode=this.$route.query.errorCode||404}},p=v,m=(n("8c5d"),Object(r["a"])(p,f,h,!1,null,"4e1606aa",null));m.options.__file="Error.vue";var b=m.exports,g=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"home"},[n("div",{staticClass:"opponent"},[t._l(t.opponent,function(e,a){return n("button",{key:a,staticClass:"btn",attrs:{disabled:-1===t.active.indexOf(e.value)},on:{click:function(n){t.handleOpponent(e)}}},[t._v("\n      "+t._s(e.text)+"\n    ")])}),n("router-link",{staticClass:"btn",attrs:{to:"/log"}},[t._v("对战记录")])],2)])},_=[],D=n("be94"),C=n("2f62"),O=n("ade3"),w=n("d4ec"),x=n("bee2"),k={LOGS:"logs",LOG:"log"},j={site:{value:0,text:"现场对战"},simpleComputer:{value:1,text:"简单电脑"},difficultComputer:{value:2,text:"困难电脑"},crazyComputer:{value:3,text:"疯狂电脑"},network:{value:4,text:"网络对战"}},y={none:{value:0,text:"空"},black:{value:1,text:"黑棋"},white:{value:2,text:"白棋"}},I=["A","B","C","D","E","F","G","H","I","J","K","L","N","M","O"],N={opponent:j,pieceColor:y,letter:I},P=k.LOGS,L=k.LOG,S=N.letter,M=N.pieceColor,$=N.opponent,T=function(){function t(){Object(w["a"])(this,t),this.baseData={},this.countData={},this.init()}return Object(x["a"])(t,[{key:"init",value:function(){for(var t=1;t<16;t++)for(var e=1;e<16;e++){var n="".concat(t,"-").concat(e),a=Object(D["a"])({},M.none,{x:t,y:e,key:n,active:!1});this.baseData[n]=a;for(var o=0;o<4;o++){var i=o+1,s=e-i,c=t+i,r=e+i,l=t-i;if(s>0){var u="".concat(t,"-").concat(s);this.setCountItem(u,"b",o,a)}if(s>0&&c<16){var d="".concat(c,"-").concat(s);this.setCountItem(d,"lb",o,a)}if(c<16){var f="".concat(c,"-").concat(e);this.setCountItem(f,"l",o,a)}if(c<16&&r<16){var h="".concat(c,"-").concat(r);this.setCountItem(h,"lt",o,a)}if(r<16){var v="".concat(t,"-").concat(r);this.setCountItem(v,"t",o,a)}if(r<16&&l>0){var p="".concat(l,"-").concat(r);this.setCountItem(p,"rt",o,a)}if(l>0){var m="".concat(l,"-").concat(e);this.setCountItem(m,"r",o,a)}if(l>0&&s>0){var b="".concat(l,"-").concat(s);this.setCountItem(b,"rb",o,a)}}}}},{key:"setCountItem",value:function(t,e,n,a){var o,i=this.countData[t]||{},s=e+"k",c=i[s]||[];c[n]=a.key,this.countData[t]=Object(D["a"])({},i,(o={},Object(O["a"])(o,e,Object(D["a"])({},i[e],Object(O["a"])({},a.key,a))),Object(O["a"])(o,s,c),o))}}]),t}(),E=(Object(D["a"])({},k,N),n("2909")),Y=function t(e){var n,a=toString.call(e);if("[object Object]"!==a&&"[object Array]"!==a)return e;for(var o in"[object Object]"===a?n=Object(D["a"])({},e):"[object Array]"===a&&(n=Object(E["a"])(e)),n)n[o]=t(n[o]);return n},F=Y,A=function(){for(var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],n={},a=0;a<e.length;a++){var o=e[a];t.hasOwnProperty(o)&&(n[o]=t[o])}return n},R=(n("a481"),function(t){return{_d:t,__proto__:{unix:function(){return Math.floor(this._d/1e3)},year:function(){return this._d.getFullYear()},month:function(){return this._d.getMonth()+1},date:function(){return this._d.getDate()},hour:function(){return this._d.getHours()},minute:function(){return this._d.getMinutes()},seconds:function(){return this._d.getSeconds()},format:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"YYYY-MM-DD h:mm:ss",e=this.year(),n=this.month(),a=this.date(),o=this.hour(),i=this.minute(),s=this.seconds();return t=t.replace(/YYYY/g,e),t=t.replace(/YY/g,e%100),t=t.replace(/MM/g,n<10?"0".concat(n):n),t=t.replace(/M/g,n),t=t.replace(/DD/g,a<10?"0".concat(a):a),t=t.replace(/D/g,a),t=t.replace(/hh/g,o<10?"0".concat(o):o),t=t.replace(/h/g,o),t=t.replace(/mm/g,i<10?"0".concat(i):i),t=t.replace(/m/g,i),t=t.replace(/ss/g,s<10?"0".concat(s):s),t=t.replace(/s/g,s),t}}}});function U(t){return R(t?new Date(t):new Date)}U.unix=function(t){return R(new Date(1e3*t))};var B=U,G=F,J=A,q=B,Q={name:"home",data:function(){return{opponent:G($),active:[$.site.value]}},created:function(){window.home=this},methods:Object(D["a"])({},Object(C["c"])(["setUser","setOpponent","setMode","setCountDown"]),{handleOpponent:function(t){this.setMode(t),t.value===$.site.value&&(this.setCountDown(0),this.setUser({name:"我",color:M.black,fraction:0}),this.setOpponent({name:"你",color:M.white,fraction:0})),this.$router.push("game")}})},H=Q,z=(n("4b2b"),Object(r["a"])(H,g,_,!1,null,"13875a92",null));z.options.__file="Home.vue";var K=z.exports,X=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"game"},[n("InfoTool"),n("Checkerboard")],1)},V=[],W=function(){var t=this,e=t.$createElement,n=t._self._c||e;return t.user.color?n("div",{staticClass:"info-tool"},[n("div",{staticClass:"item"},[n("div",{staticClass:"col-3"},[t._v("\n      第"+t._s(t.roundNum)+"局\n      "),n("button",{directives:[{name:"show",rawName:"v-show",value:t.countDown>0&&t.isOver,expression:"countDown > 0 && isOver"}]},[t._v("开始")]),n("button",{directives:[{name:"show",rawName:"v-show",value:0===t.countDown&&t.isOver,expression:"countDown === 0 && isOver"}],on:{click:t.handleNext}},[t._v("下一局")])]),n("div",{staticClass:"col-3"},[n("div",[t._v("比分")]),n("div",{staticClass:"score"},[t._v(t._s(t.user.fraction)+" : "+t._s(t.opponent.fraction))])]),n("div",{staticClass:"col-3"},[n("button",{attrs:{disabled:t.isOver},on:{click:t.handleDefeat}},[t._v("认输")]),n("button",{attrs:{disabled:t.isOver},on:{click:t.handleAgain}},[t._v("平局")]),n("button",{on:{click:t.handleQuit}},[t._v("退出")])])]),n("div",{staticClass:"item"},[n("div",{staticClass:"user"},[n("span",[t._v(t._s(t.user.name)+t._s(t.blank))]),n("Piece",{attrs:{data:{value:t.user.color.value}}}),t.countDown>0?n("div",{staticClass:"time"},[n("div",[t._v("局"+t._s(t.blank)+"时：01:00")]),n("div",[t._v("倒计时：01:00")])]):t._e()],1),n("div",[t._v(t._s(t.isOver?t.fall.color.text+(t.isDefeat?"认输":"赢"):"轮到"+t.fall.color.text+"下"))]),n("div",{staticClass:"user"},[t.countDown>0?n("div",{staticClass:"time"},[n("div",[t._v("局"+t._s(t.blank)+"时：01:00")]),n("div",[t._v("倒计时：01:00")])]):t._e(),n("Piece",{attrs:{data:{value:t.opponent.color.value}}}),n("span",[t._v(t._s(t.blank)+t._s(t.opponent.name))])],1)])]):t._e()},Z=[],tt=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"piece"},[t.data.value===t.pieceColor.none.value?n("div",{staticClass:"none",on:{click:t.handlePiece}}):t._e(),t.data.value===t.pieceColor.black.value?n("div",{class:t.data.active?"black acitve":"black"},[t._v(t._s(t.data.index))]):t._e(),t.data.value===t.pieceColor.white.value?n("div",{class:t.data.active?"white acitve":"white"},[t._v(t._s(t.data.index))]):t._e()])},et=[],nt={name:"piece",props:{data:{type:Object,default:function(){return{value:M.none.value,active:!1}}}},data:function(){return{pieceColor:G(M)}},methods:Object(D["a"])({},Object(C["c"])(["setDownPiece"]),{handlePiece:function(){this.setDownPiece(this.data)}})},at=nt,ot=(n("7e85"),Object(r["a"])(at,tt,et,!1,null,"22b0068b",null));ot.options.__file="Piece.vue";var it=ot.exports,st={name:"infoTool",components:{Piece:it},data:function(){return{blank:"　"}},computed:Object(C["d"])({user:function(t){return t.user},opponent:function(t){return t.opponent},fall:function(t){return t.fall},countDown:function(t){return t.countDown},roundNum:function(t){return t.roundNum},isOver:function(t){return t.isOver},isDefeat:function(t){return t.isDefeat}}),methods:Object(D["a"])({},Object(C["b"])(["defeat","next","quit"]),Object(C["c"])(["setRoundNum","setIsOver"]),{handleDefeat:function(){this.defeat()},handleNext:function(){this.next()},handleAgain:function(){this.setIsOver(!0)},handleQuit:function(){this.quit(),this.$router.go(-1)}})},ct=st,rt=(n("3bc6"),Object(r["a"])(ct,W,Z,!1,null,"36d48d06",null));rt.options.__file="InfoTool.vue";var lt=rt.exports,ut=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"checkerboard"},[n("CheckerboardBase",{attrs:{baseData:t.baseData,isClick:!t.isOver}})],1)},dt=[],ft=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"checkerboard",on:{"!click":function(e){return t.handleStop(e)}}},[n("div",{staticClass:"line-row"}),n("div",{staticClass:"line-col"}),n("div",{staticClass:"star"}),n("div",{staticClass:"num"},t._l(15,function(e){return n("div",{key:e},[t._v(t._s(e))])})),n("div",{staticClass:"letter"},t._l(t.letter,function(e){return n("div",{key:e},[t._v(t._s(e))])})),n("div",{staticClass:"pieces"},t._l(15,function(e){return n("div",{key:e,staticClass:"row"},t._l(15,function(a){return n("Piece",{key:a,attrs:{data:t.baseData[a+"-"+e]},on:{handlePiece:t.handlePiece}})}))}))])},ht=[],vt={name:"checkerboard",props:{baseData:{type:Object,default:function(){return{}}},isClick:{type:Boolean,default:!0}},components:{Piece:it},data:function(){return{letter:S}},created:function(){window.cbb=this},methods:{handleStop:function(t){this.isClick||t.stopPropagation&&t.stopPropagation()},handlePiece:function(t){this.isClick&&this.$emit("handlePiece",t)}}},pt=vt,mt=(n("b38a"),Object(r["a"])(pt,ft,ht,!1,null,"6c09dd86",null));mt.options.__file="CheckerboardBase.vue";var bt=mt.exports,gt={name:"checkerboard",components:{CheckerboardBase:bt},data:function(){return{baseData:{},countData:{}}},computed:Object(C["d"])({fall:function(t){return t.fall},user:function(t){return t.user},opponent:function(t){return t.opponent},roundNum:function(t){return t.roundNum},isOver:function(t){return t.isOver},downPiece:function(t){return t.downPiece}}),watch:{roundNum:function(){this.initData()},downPiece:function(t){this.handlePiece(t)}},created:function(){window.cb=this,this.setRoundNum(1),this.initData()},methods:Object(D["a"])({},Object(C["b"])(["victory"]),Object(C["c"])(["setFall","setRoundNum","setIsOver","setIsDefeat"]),{handlePiece:function(t){var e=this.baseData[t.key];e.value=this.fall.color.value,!0!==this.handleIsOver(e)?this.fall.color.value===M.black.value?(e.text=M.black.text,this.handleFall(M.white.value)):(e.text=M.white.text,this.handleFall(M.black.value)):this.victory()},handleFall:function(t){this.user.color.value===t?this.setFall(this.user):this.setFall(this.opponent)},handleStop:function(t){this.isOver&&t.stopPropagation&&t.stopPropagation()},handleIsOver:function(t){var e=!1,n=this.countData[t.key],a=this.getConnections(n.tk),o=this.getConnections(n.bk),i=this.getConnections(n.rtk),s=this.getConnections(n.lbk),c=this.getConnections(n.rk),r=this.getConnections(n.lk),l=this.getConnections(n.rbk),u=this.getConnections(n.ltk),d=[t];if(1+a.length+o.length>4&&(d=d.concat(a,o),e=!0),1+i.length+s.length>4&&(d=d.concat(i,s),e=!0),1+c.length+r.length>4&&(d=d.concat(c,r),e=!0),1+l.length+u.length>4&&(d=d.concat(l,u),e=!0),e)for(var f in d)d[f].active=!0;return e},getConnections:function(t){var e=[];for(var n in t){var a=this.baseData[t[n]];if(a.value!==this.fall.color.value)break;e.push(a)}return e},initData:function(){this.handleFall(M.black.value),this.setIsOver(!1),this.setIsDefeat(!1);var t=new T,e=t.baseData,n=t.countData;this.baseData=e,this.countData=n}})},_t=gt,Dt=Object(r["a"])(_t,ut,dt,!1,null,null,null);Dt.options.__file="Checkerboard.vue";var Ct=Dt.exports,Ot={name:"game",components:{InfoTool:lt,Checkerboard:Ct}},wt=Ot,xt=Object(r["a"])(wt,X,V,!1,null,null,null);xt.options.__file="Game.vue";var kt=xt.exports,jt=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"log"},[n("div",{staticClass:"title"},[t._v("记录")]),n("div",{staticClass:"table",attrs:{oncontextmenu:"return false"},on:{mousedown:t.handleTableMousedown}},[t._m(0),t._l(t.logs,function(e,a){return n("div",{key:a,staticClass:"table-row",attrs:{title:"右击查看更多"},on:{mousedown:function(n){t.handleItemMousedown(n,e,a)}}},[n("div",{staticClass:"table-cell"},[t._v(t._s(a+1))]),n("div",{staticClass:"table-cell"},[t._v(t._s(t._f("dateFormat")(e.date)))]),n("div",{staticClass:"table-cell"},[t._v(t._s(e.user.name)+" - "+t._s(e.opponent.name))]),n("div",{staticClass:"table-cell"},[t._v(t._s(e.user.fraction)+" - "+t._s(e.opponent.fraction))]),n("div",{staticClass:"table-cell"},[t._v(t._s(e.roundNum))])])}),n("div",{directives:[{name:"show",rawName:"v-show",value:t.isShowMenu,expression:"isShowMenu"}],staticClass:"menu",style:t.menuStyle,on:{mouseleave:function(e){t.isShowMenu=!1}}},[n("div",{staticClass:"item",on:{click:t.handleDelete}},[t._v("删除")]),n("div",{staticClass:"item",on:{click:t.handleDeleteAll}},[t._v("删除全部")])])],2),t.logs.length?t._e():n("div",{staticClass:"no-data"},[t._v("没数据")])])},yt=[function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"table-header"},[n("div",{staticClass:"table-cell"},[t._v("序号")]),n("div",{staticClass:"table-cell"},[t._v("日期")]),n("div",{staticClass:"table-cell"},[t._v("对手")]),n("div",{staticClass:"table-cell"},[t._v("比分")]),n("div",{staticClass:"table-cell"},[t._v("局数")])])}],It={name:"log",data:function(){return{menuStyle:{top:0,left:0},isShowMenu:!1}},computed:Object(C["d"])({logs:function(t){return t.log.logs}}),created:function(){window.log=this,this.getLogs()},methods:Object(D["a"])({},Object(C["b"])(["getLogs","delLog","delAllLog"]),{handleTableMousedown:function(t){3===t.which&&(this.menuStyle={top:t.layerY+"px",left:t.layerX+"px"})},handleItemMousedown:function(t,e,n){1===t.which?this.$router.push({name:"logDetail",params:{id:e.date}}):3===t.which&&(this.isShowMenu=!0,this.handleDelete.index=n)},handleDelete:function(){this.isShowMenu=!1,this.delLog(this.handleDelete.index)},handleDeleteAll:function(){this.delAllLog()}})},Nt=It,Pt=(n("a9f6"),Object(r["a"])(Nt,jt,yt,!1,null,"00983dbf",null));Pt.options.__file="Log.vue";var Lt=Pt.exports,St=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"log-detail"},[n("div",{staticClass:"title"},[t._v("对战记录")]),n("div",{staticClass:"content"},[n("LogCheckerboard"),n("LogInfoTool")],1)])},Mt=[],$t=function(){var t=this,e=t.$createElement,n=t._self._c||e;return t.detail.user?n("div",{staticClass:"info-tool"},[n("div",{staticClass:"item"},[t._v("时间："+t._s(t._f("dateFormat")(t.logDetail.date,"YYYY-MM-DD")))]),n("div",{staticClass:"item"},[t._v("第"+t._s(t.detail.roundNum)+"局 （总"+t._s(t.logDetail.list.length)+"局）")]),n("div",{staticClass:"item"},[t._v("比分："+t._s(t.fraction))]),n("div",{staticClass:"item"},[n("button",{attrs:{disabled:0===t.logDetail.list.length||1===t.detail.roundNum},on:{click:t.handleUpRound}},[t._v("上一局")]),n("button",{attrs:{disabled:0===t.logDetail.list.length||t.detail.roundNum===t.logDetail.list.length},on:{click:t.handleDnRound}},[t._v("下一局")]),n("button",{attrs:{disabled:0===t.pieceIndex},on:{click:t.handleUp}},[t._v("上一棋")]),n("button",{attrs:{disabled:t.pieceIndex>=t.detail.pieces.length},on:{click:t.handleDn}},[t._v("下一棋")]),n("button",{on:{click:t.handleQuit}},[t._v("退出")])]),n("div",{staticClass:"item"},[n("Piece",{attrs:{data:{value:t.detail.user.color.value}}}),n("span",[t._v(t._s(t.blank)+t._s(t.detail.user.name))])],1),n("div",{staticClass:"item"},[n("Piece",{attrs:{data:{value:t.detail.opponent.color.value}}}),n("span",[t._v(t._s(t.blank)+t._s(t.detail.opponent.name))])],1),n("div",{staticClass:"log"},t._l(t.logTexts,function(e,a){return n("div",{key:a},[n("span",{staticClass:"time"},[t._v(t._s(t._f("dateFormat")(e.date,"h:mm:ss")))]),t._v(t._s(e.text)+"\n    ")])}))]):t._e()},Tt=[],Et={name:"logInfoTool",components:{Piece:it},data:function(){return{blank:"　",detail:{},fraction:"0 - 0",pieceIndex:0,logTexts:[]}},computed:Object(C["d"])({logDetail:function(t){return t.log.log}}),watch:{logDetail:function(t){this.detail=t.list[0]},detail:function(t){this.fraction="".concat(t.user.fraction," - ").concat(t.opponent.fraction),this.pieceIndex=0,this.setLogRoundNum(this.detail.roundNum),this.logTexts=[{date:t.startDate,text:"开始"}],t.pieces&&0!==t.pieces.length||this.handleEnd()}},created:function(){window.lit=this,this.getLog(this.$route.params.id)},methods:Object(D["a"])({},Object(C["b"])(["getLog"]),Object(C["c"])(["setDownPiece","setLogRoundNum"]),{handleUpRound:function(){this.detail.roundNum>1&&(this.detail=this.logDetail.list[this.detail.roundNum-2])},handleDnRound:function(){var t=this.logDetail.list.length;t>1&&this.detail.roundNum<t&&(this.detail=this.logDetail.list[this.detail.roundNum])},handleUp:function(){this.pieceIndex===this.detail.pieces.length&&this.logTexts.shift(),this.pieceIndex--;var t=Object(D["a"])({},this.detail.pieces[this.pieceIndex],{value:M.none.value,isLog:!0});t.key="".concat(t.x,"-").concat(t.y),this.setDownPiece(t),this.logTexts.shift(),this.fraction="".concat(this.detail.user.fraction," - ").concat(this.detail.opponent.fraction)},handleDn:function(){if(!(this.pieceIndex>=this.detail.pieces.length)){var t=this.pieceIndex%2?M.white:M.black,e=Object(D["a"])({},this.detail.pieces[this.pieceIndex],{value:t.value,index:this.pieceIndex+1,isLog:!0});e.key="".concat(e.x,"-").concat(e.y),this.setDownPiece(e),this.logTexts=[].concat([{date:e.date,text:"".concat(this.$options.filters.letter(e.x-1)).concat(e.y).concat(t.text)}],this.logTexts),this.pieceIndex++,this.pieceIndex===this.detail.pieces.length&&this.handleEnd()}},handleEnd:function(){var t,e,n,a;if(this.detail.roundNum<this.logDetail.list.length){var o=this.logDetail.list[this.detail.roundNum];n=o.user,a=o.opponent}else n=this.logDetail.user,a=this.logDetail.opponent;if(t="".concat(n.fraction," - ").concat(a.fraction),this.fraction===t)e="平局";else{var i=this.pieceIndex%2?M.white:M.black;e=this.detail.isDefeat?i.text+"认输":i.text+"赢"}this.logTexts=[].concat({date:this.detail.endDate,text:"结束，"+e},this.logTexts),this.fraction=t},handleQuit:function(){this.$router.go(-1)}})},Yt=Et,Ft=(n("a60f"),Object(r["a"])(Yt,$t,Tt,!1,null,"6351d116",null));Ft.options.__file="LogInfoTool.vue";var At=Ft.exports,Rt=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"log-checkerboard"},[n("CheckerboardBase",{attrs:{baseData:t.baseData,isClick:!1}})],1)},Ut=[],Bt={name:"logCheckerboard",components:{CheckerboardBase:bt},data:function(){return{baseData:{}}},computed:Object(D["a"])({},Object(C["d"])({downPiece:function(t){return t.downPiece},roundNum:function(t){return t.log.roundNum}})),watch:{downPiece:function(t){var e=this.baseData[t.key];e.value=t.value,e.index=t.index},roundNum:function(){this.init()}},created:function(){window.lcb=this,this.init()},methods:{init:function(){var t=new T,e=t.baseData;this.baseData=e}}},Gt=Bt,Jt=(n("30f1"),Object(r["a"])(Gt,Rt,Ut,!1,null,"c3d654ba",null));Jt.options.__file="LogCheckerboard.vue";var qt=Jt.exports,Qt={name:"logDeatil",components:{LogInfoTool:At,LogCheckerboard:qt},created:function(){window.logDetail=this}},Ht=Qt,zt=(n("06ff"),Object(r["a"])(Ht,St,Mt,!1,null,"45686e28",null));zt.options.__file="LogDetail.vue";var Kt=zt.exports,Xt=[{path:"/",name:"home",component:K},{path:"/game",name:"game",component:kt},{path:"/log",name:"log",component:Lt},{path:"/log/:id",name:"logDetail",component:Kt},{path:"*",name:"error",component:b}],Vt="lin09.github.io"===window.location.hostname;a["a"].use(d["a"]);var Wt=new d["a"]({mode:Vt?"hash":"history",base:Vt?window.location.pathname:"/",routes:Xt}),Zt=function(t){localStorage.setItem(P,JSON.stringify(t))},te=function(){var t=localStorage.getItem(P);try{t=JSON.parse(t)||[]}catch(e){t=[]}return t},ee=function(t){localStorage.setItem("".concat(L).concat(t.date),JSON.stringify(t))},ne=function(t){var e=localStorage.getItem("".concat(L).concat(t));try{e=JSON.parse(e)||{}}catch(n){e={}}return e},ae=function(t){localStorage.removeItem("".concat(L).concat(t))},oe={state:{logs:[],log:{},roundNum:1},mutations:{setLogs:function(t,e){t.logs=e},setLog:function(t,e){t.log=e},setLogRoundNum:function(t,e){t.roundNum=e}},actions:{getLogs:function(t){var e=t.commit,n=te();e("setLogs",n)},getLog:function(t,e){var n=t.commit,a=ne(e);n("setLog",a)},delLog:function(t,e){var n=t.commit,a=t.state,o=a.logs[e];ae(o.date),a.logs.splice(e,1),Zt(a.logs),n("setLogs",a.logs)},delAllLog:function(t){for(var e=t.commit,n=t.state,a=0;a<n.logs.length;a++){var o=n.logs[a];ae(o.date)}Zt([]),e("setLogs",[])}}};a["a"].use(C["a"]);var ie=new C["a"].Store({state:{user:{},opponent:{},mode:{},fall:{color:{}},countDown:0,roundNum:1,isOver:!1,isDefeat:!1,startDate:0,currentDate:0,downPiece:{},logPieces:[]},mutations:{setUser:function(t,e){if(t.user=e,e.fraction){var n=te(),a=n[n.length-1]||{};if(a.date===t.startDate){a.user=J(e,["name","fraction"]),Zt(n);var o=ne(t.startDate)||{};o.user=e,ee(o)}}},setOpponent:function(t,e){if(t.opponent=e,e.fraction){var n=te(),a=n[n.length-1]||{};if(a.date===t.startDate){a.opponent=J(e,["name","fraction"]),Zt(n);var o=ne(t.startDate)||{};o.opponent=e,ee(o)}}},setMode:function(t,e){t.mode=e},setFall:function(t,e){t.fall=e||{}},setCountDown:function(t,e){t.countDown=e},setRoundNum:function(t,e){var n=q().unix();t.currentDate=n,t.logPieces=[],1===e?(t.startDate=n,t.roundNum=e):t.roundNum+=1},setIsDefeat:function(t,e){t.isDefeat=e},setIsOver:function(t,e){if(t.isOver=e,!e)return t;var n=te(),a={date:t.startDate,roundNum:t.roundNum,user:J(t.user,["name","fraction"]),opponent:J(t.opponent,["name","fraction"])};(n[n.length-1]||{}).date!==t.startDate?n.push(a):n[n.length-1]=a,Zt(n);var o=ne(t.startDate);ee(Object(D["a"])({},o,{date:t.startDate,user:t.user,opponent:t.opponent,list:Object(E["a"])(o.list||[]).concat([{roundNum:t.roundNum,user:t.user,opponent:t.opponent,startDate:t.currentDate,endDate:q().unix(),pieces:t.logPieces,isDefeat:t.isDefeat}])})),t.logPieces=[]},setDownPiece:function(t,e){t.downPiece=e,e.isLog||t.logPieces.push({date:q().unix(),x:e.x,y:e.y})}},actions:{defeat:function(t){var e=t.commit,n=t.state;e("setIsDefeat",!0),e("setIsOver",!0),n.fall.color.value!==n.user.color.value?e("setUser",Object(D["a"])({},n.user,{fraction:n.user.fraction+1})):e("setOpponent",Object(D["a"])({},n.opponent,{fraction:n.opponent.fraction+1}))},victory:function(t){var e=t.commit,n=t.state;e("setIsOver",!0),n.fall.color.value===n.user.color.value?e("setUser",Object(D["a"])({},n.user,{fraction:n.user.fraction+1})):e("setOpponent",Object(D["a"])({},n.opponent,{fraction:n.opponent.fraction+1}))},next:function(t){var e=t.commit,n=t.state;e("setUser",Object(D["a"])({},n.user,{color:n.user.color.value!==M.black.value?M.black:M.white})),e("setOpponent",Object(D["a"])({},n.opponent,{color:n.opponent.color.value!==M.black.value?M.black:M.white})),e("setRoundNum")},quit:function(t){var e=t.commit;e("setUser",{}),e("setOpponent",{})}},modules:{log:oe}}),se={},ce=function(t){se[t]=function(e){var n=N[t],a=toString.call(n);if("[object Array]"===a)return"[object Number]"!==toString.call(e)?e:e>n.length?e:n[e];if("[object Object]"===a){for(var o in n){var i=n[o];if(e===i.value)return i.text}return e}}};for(var re in N)ce(re);var le=Object(D["a"])({},se,{dateFormat:function(t,e){return t?q.unix(t).format(e):t}});for(var ue in le)a["a"].filter(ue,le[ue]);a["a"].config.productionTip=!1,new a["a"]({router:Wt,store:ie,render:function(t){return t(u)}}).$mount("#app")},5971:function(t,e,n){},"5c0b":function(t,e,n){"use strict";var a=n("5e27"),o=n.n(a);o.a},"5e27":function(t,e,n){},6397:function(t,e,n){},"7e85":function(t,e,n){"use strict";var a=n("6397"),o=n.n(a);o.a},"8c5d":function(t,e,n){"use strict";var a=n("5971"),o=n.n(a);o.a},a60f:function(t,e,n){"use strict";var a=n("e075"),o=n.n(a);o.a},a9f6:function(t,e,n){"use strict";var a=n("f3fb"),o=n.n(a);o.a},b38a:function(t,e,n){"use strict";var a=n("4d23"),o=n.n(a);o.a},e075:function(t,e,n){},f3fb:function(t,e,n){},fab6:function(t,e,n){}});