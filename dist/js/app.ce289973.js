(function(t){function e(e){for(var a,s,c=e[0],l=e[1],r=e[2],d=0,f=[];d<c.length;d++)s=c[d],o[s]&&f.push(o[s][0]),o[s]=0;for(a in l)Object.prototype.hasOwnProperty.call(l,a)&&(t[a]=l[a]);u&&u(e);while(f.length)f.shift()();return i.push.apply(i,r||[]),n()}function n(){for(var t,e=0;e<i.length;e++){for(var n=i[e],a=!0,c=1;c<n.length;c++){var l=n[c];0!==o[l]&&(a=!1)}a&&(i.splice(e--,1),t=s(s.s=n[0]))}return t}var a={},o={app:0},i=[];function s(e){if(a[e])return a[e].exports;var n=a[e]={i:e,l:!1,exports:{}};return t[e].call(n.exports,n,n.exports,s),n.l=!0,n.exports}s.m=t,s.c=a,s.d=function(t,e,n){s.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:n})},s.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},s.t=function(t,e){if(1&e&&(t=s(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var n=Object.create(null);if(s.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var a in t)s.d(n,a,function(e){return t[e]}.bind(null,a));return n},s.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return s.d(e,"a",e),e},s.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},s.p="/Gobang-vue2.0/dist/";var c=window["webpackJsonp"]=window["webpackJsonp"]||[],l=c.push.bind(c);c.push=e,c=c.slice();for(var r=0;r<c.length;r++)e(c[r]);var u=l;i.push([0,"chunk-vendors"]),n()})({0:function(t,e,n){t.exports=n("56d7")},"06ff":function(t,e,n){"use strict";var a=n("5240"),o=n.n(a);o.a},"16a9":function(t,e,n){"use strict";var a=n("9f6a"),o=n.n(a);o.a},"1d5c":function(t,e,n){},"258c":function(t,e,n){},"2c63":function(t,e,n){"use strict";var a=n("74dd"),o=n.n(a);o.a},"30f1":function(t,e,n){"use strict";var a=n("258c"),o=n.n(a);o.a},"3a91":function(t,e,n){},"3bc6":function(t,e,n){"use strict";var a=n("4fe6"),o=n.n(a);o.a},"4fe6":function(t,e,n){},5240:function(t,e,n){},"56d7":function(t,e,n){"use strict";n.r(e);n("cadf"),n("551c"),n("097d");var a=n("2b0e"),o=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{attrs:{id:"app"}},[n("router-view")],1)},i=[],s={name:"app"},c=s,l=(n("5c0b"),n("2877")),r=Object(l["a"])(c,o,i,!1,null,null,null);r.options.__file="App.vue";var u=r.exports,d=n("8c4f"),f=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"error"},[n("div",{staticClass:"code"},[t._v(t._s(t.$route.query.errorCode))])])},h=[],v={name:"error",data:function(){return{errorCode:0}},created:function(){this.errorCode=this.$route.query.errorCode||404}},p=v,m=(n("8c5d"),Object(l["a"])(p,f,h,!1,null,"4e1606aa",null));m.options.__file="Error.vue";var b=m.exports,g=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"home"},[n("div",{staticClass:"opponent"},[t._l(t.opponent,function(e,a){return n("button",{key:a,staticClass:"btn",attrs:{disabled:-1===t.active.indexOf(e.value)},on:{click:function(n){t.handleOpponent(e)}}},[t._v("\n      "+t._s(e.text)+"\n    ")])}),n("router-link",{staticClass:"btn",attrs:{to:"/log"}},[t._v("对战记录")])],2),n("Modal",{attrs:{title:"设置信息",okText:"确认"},on:{ok:t.goGage},model:{value:t.showModal,callback:function(e){t.showModal=e},expression:"showModal"}},[n("cForm",{ref:"form",attrs:{formData:t.formData,rules:t.rules},on:{submit:t.goGage}},[n("FormGroup",{attrs:{label:"黑棋：",placeholder:"玩家名字"},model:{value:t.formData.userName,callback:function(e){t.$set(t.formData,"userName",e)},expression:"formData.userName"}}),n("FormGroup",{attrs:{label:"白棋：",placeholder:"玩家名字"},model:{value:t.formData.opponentName,callback:function(e){t.$set(t.formData,"opponentName",e)},expression:"formData.opponentName"}})],1)],1)],1)},_=[],C=n("be94"),D=n("2f62"),k=n("ade3"),w=n("d4ec"),x=n("bee2"),O={LOGS:"logs",LOG:"log"},y={site:{value:0,text:"现场对战"},simpleComputer:{value:1,text:"简单电脑"},difficultComputer:{value:2,text:"困难电脑"},crazyComputer:{value:3,text:"疯狂电脑"},network:{value:4,text:"网络对战"}},j={none:{value:0,text:"空"},black:{value:1,text:"黑棋"},white:{value:2,text:"白棋"}},N=["A","B","C","D","E","F","G","H","I","J","K","L","N","M","O"],I={opponent:y,pieceColor:j,letter:N},P=O.LOGS,S=O.LOG,M=I.letter,L=I.pieceColor,$=I.opponent,T=function(){function t(){Object(w["a"])(this,t),this.baseData={},this.countData={},this.init()}return Object(x["a"])(t,[{key:"init",value:function(){for(var t=1;t<16;t++)for(var e=1;e<16;e++){var n="".concat(t,"-").concat(e),a=Object(C["a"])({},L.none,{x:t,y:e,key:n,active:!1});this.baseData[n]=a;for(var o=0;o<4;o++){var i=o+1,s=e-i,c=t+i,l=e+i,r=t-i;if(s>0){var u="".concat(t,"-").concat(s);this.setCountItem(u,"b",o,a)}if(s>0&&c<16){var d="".concat(c,"-").concat(s);this.setCountItem(d,"lb",o,a)}if(c<16){var f="".concat(c,"-").concat(e);this.setCountItem(f,"l",o,a)}if(c<16&&l<16){var h="".concat(c,"-").concat(l);this.setCountItem(h,"lt",o,a)}if(l<16){var v="".concat(t,"-").concat(l);this.setCountItem(v,"t",o,a)}if(l<16&&r>0){var p="".concat(r,"-").concat(l);this.setCountItem(p,"rt",o,a)}if(r>0){var m="".concat(r,"-").concat(e);this.setCountItem(m,"r",o,a)}if(r>0&&s>0){var b="".concat(r,"-").concat(s);this.setCountItem(b,"rb",o,a)}}}}},{key:"setCountItem",value:function(t,e,n,a){var o,i=this.countData[t]||{},s=e+"k",c=i[s]||[];c[n]=a.key,this.countData[t]=Object(C["a"])({},i,(o={},Object(k["a"])(o,e,Object(C["a"])({},i[e],Object(k["a"])({},a.key,a))),Object(k["a"])(o,s,c),o))}}]),t}(),E=(Object(C["a"])({},O,I),n("2909")),F=function t(e){var n,a=toString.call(e);if("[object Object]"!==a&&"[object Array]"!==a)return e;for(var o in"[object Object]"===a?n=Object(C["a"])({},e):"[object Array]"===a&&(n=Object(E["a"])(e)),n)n[o]=t(n[o]);return n},A=F,Y=function(){for(var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],n={},a=0;a<e.length;a++){var o=e[a];t.hasOwnProperty(o)&&(n[o]=t[o])}return n},G=(n("a481"),function(t){return{_d:t,__proto__:{unix:function(){return Math.floor(this._d/1e3)},year:function(){return this._d.getFullYear()},month:function(){return this._d.getMonth()+1},date:function(){return this._d.getDate()},hour:function(){return this._d.getHours()},minute:function(){return this._d.getMinutes()},seconds:function(){return this._d.getSeconds()},format:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"YYYY-MM-DD h:mm:ss",e=this.year(),n=this.month(),a=this.date(),o=this.hour(),i=this.minute(),s=this.seconds();return t=t.replace(/YYYY/g,e),t=t.replace(/YY/g,e%100),t=t.replace(/MM/g,n<10?"0".concat(n):n),t=t.replace(/M/g,n),t=t.replace(/DD/g,a<10?"0".concat(a):a),t=t.replace(/D/g,a),t=t.replace(/hh/g,o<10?"0".concat(o):o),t=t.replace(/h/g,o),t=t.replace(/mm/g,i<10?"0".concat(i):i),t=t.replace(/m/g,i),t=t.replace(/ss/g,s<10?"0".concat(s):s),t=t.replace(/s/g,s),t}}}});function R(t){return G(t?new Date(t):new Date)}R.unix=function(t){return G(new Date(1e3*t))};var B=R,U=A,q=Y,J=B,Q=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{directives:[{name:"show",rawName:"v-show",value:t.visible,expression:"visible"}],staticClass:"modal",on:{click:t.handleMask}},[n("div",{staticClass:"modal-content",style:t.contentStyle,on:{click:function(t){t.stopPropagation()}}},[t.title?n("div",{staticClass:"modal-header"},[t._v("\n      "+t._s(t.title)+"\n      "),t.closable?n("div",{staticClass:"modal-close",on:{click:t.close}},[t._v("X")]):t._e()]):t._e(),n("div",{staticClass:"modal-body"},[t._t("default")],2),t.okText||t.cancelText?n("div",{staticClass:"modal-footer"},[t.okText?n("button",{staticClass:"btn btn-primary",on:{click:t.ok}},[t._v(t._s(t.okText))]):t._e(),t.cancelText?n("button",{staticClass:"btn",on:{click:t.cancel}},[t._v(t._s(t.cancelText))]):t._e()]):t._e()])])},H=[],X={name:"Modal",props:{value:{type:Boolean,default:!1},closable:{type:Boolean,default:!0},maskClosable:{type:Boolean,default:!0},title:{type:String,default:""},width:{type:String,default:"450px"},okText:{type:String,default:""},cancelText:{type:String,default:""}},data:function(){return{visible:this.value,contentStyle:{width:this.width}}},watch:{value:function(t){this.visible=t},visible:function(t){this.$emit("visibleChange",t)}},methods:{close:function(){this.visible=!1,this.$emit("input",!1),this.$emit("cancel")},handleMask:function(){this.maskClosable&&this.close()},ok:function(){this.$emit("ok")},cancel:function(){this.close()}}},z=X,K=(n("2c63"),Object(l["a"])(z,Q,H,!1,null,"7eb258f8",null));K.options.__file="Modal.vue";var V=K.exports,W=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"form-group"},[n("div",{staticClass:"label"},[t._v(t._s(t.label))]),"checkbox"===t.type?n("input",{directives:[{name:"model",rawName:"v-model",value:t.model,expression:"model"}],attrs:{disabled:t.disabled,placeholder:t.placeholder,type:"checkbox"},domProps:{checked:Array.isArray(t.model)?t._i(t.model,null)>-1:t.model},on:{change:[function(e){var n=t.model,a=e.target,o=!!a.checked;if(Array.isArray(n)){var i=null,s=t._i(n,i);a.checked?s<0&&(t.model=n.concat([i])):s>-1&&(t.model=n.slice(0,s).concat(n.slice(s+1)))}else t.model=o},t.handleChange]}}):"radio"===t.type?n("input",{directives:[{name:"model",rawName:"v-model",value:t.model,expression:"model"}],attrs:{disabled:t.disabled,placeholder:t.placeholder,type:"radio"},domProps:{checked:t._q(t.model,null)},on:{change:[function(e){t.model=null},t.handleChange]}}):n("input",{directives:[{name:"model",rawName:"v-model",value:t.model,expression:"model"}],attrs:{disabled:t.disabled,placeholder:t.placeholder,type:t.type},domProps:{value:t.model},on:{change:t.handleChange,input:function(e){e.target.composing||(t.model=e.target.value)}}})])},Z=[],tt={name:"formGroup",props:{value:{default:""},label:{type:String},type:{type:String,default:"text"},disabled:{type:Boolean,default:!1},placeholder:{type:String}},data:function(){return{model:this.value}},watch:{value:function(t){this.model=t}},methods:{handleChange:function(){this.$emit("input",this.model)}}},et=tt,nt=(n("f014"),Object(l["a"])(et,W,Z,!1,null,"5935d90c",null));nt.options.__file="FormGroup.vue";var at=nt.exports,ot=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("form",{on:{submit:function(t){t.preventDefault()},keyup:t.keyup}},[n("div",{staticClass:"message"},[t._v(t._s(t.message))]),t._t("default")],2)},it=[],st={props:{formData:Object,rules:Object},data:function(){return{message:""}},methods:{keyup:function(t){13===t.keyCode&&this.$emit("submit")},validate:function(t){for(var e in this.message="",this.rules){var n=this.rules[e];for(var a in n){var o=n[a];if(!0===o.required&&(!this.formData[e]||""===this.formData[e]))return this.message=o.message,"function"===typeof t&&t(!1),!1}}return"function"===typeof t&&t(!0),!0}}},ct=st,lt=(n("867d"),Object(l["a"])(ct,ot,it,!1,null,"2a9ae23e",null));lt.options.__file="Form.vue";var rt=lt.exports,ut={name:"home",components:{Modal:V,FormGroup:at,cForm:rt},data:function(){return{opponent:U($),active:[$.site.value],showModal:!1,formData:{userName:"我",opponentName:"你"},rules:{userName:[{required:!0,message:"黑棋玩家名字不能为空"}],opponentName:[{required:!0,message:"白棋玩家名字不能为空"}]}}},created:function(){window.home=this},methods:Object(C["a"])({},Object(D["c"])(["setUser","setOpponent","setMode","setCountDown"]),{handleOpponent:function(t){this.setMode(t),t.value===$.site.value&&(this.showModal=!0)},goGage:function(){this.$refs["form"].validate()&&(this.setCountDown(0),this.setUser({name:this.formData.userName,color:L.black,fraction:0}),this.setOpponent({name:this.formData.opponentName,color:L.white,fraction:0}),this.$router.push("game"))}})},dt=ut,ft=(n("16a9"),Object(l["a"])(dt,g,_,!1,null,"31e25499",null));ft.options.__file="Home.vue";var ht=ft.exports,vt=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"game"},[n("InfoTool"),n("Checkerboard")],1)},pt=[],mt=function(){var t=this,e=t.$createElement,n=t._self._c||e;return t.user.color?n("div",{staticClass:"info-tool"},[n("div",{staticClass:"item"},[n("div",{staticClass:"col-3"},[t._v("\n      第"+t._s(t.roundNum)+"局\n      "),n("button",{directives:[{name:"show",rawName:"v-show",value:t.countDown>0&&t.isOver,expression:"countDown > 0 && isOver"}]},[t._v("开始")]),n("button",{directives:[{name:"show",rawName:"v-show",value:0===t.countDown&&t.isOver,expression:"countDown === 0 && isOver"}],on:{click:t.handleNext}},[t._v("下一局")])]),n("div",{staticClass:"col-3"},[n("div",[t._v("比分")]),n("div",{staticClass:"score"},[t._v(t._s(t.user.fraction)+" : "+t._s(t.opponent.fraction))])]),n("div",{staticClass:"col-3"},[n("button",{attrs:{disabled:t.isOver},on:{click:t.handleDefeat}},[t._v("认输")]),n("button",{attrs:{disabled:t.isOver},on:{click:t.handleAgain}},[t._v("平局")]),n("button",{on:{click:t.handleQuit}},[t._v("退出")])])]),n("div",{staticClass:"item"},[n("div",{staticClass:"user"},[n("span",[t._v(t._s(t.user.name)+t._s(t.blank))]),n("Piece",{attrs:{data:{value:t.user.color.value}}}),t.countDown>0?n("div",{staticClass:"time"},[n("div",[t._v("局"+t._s(t.blank)+"时：01:00")]),n("div",[t._v("倒计时：01:00")])]):t._e()],1),n("div",[t._v(t._s(t.isOver?t.fall.color.text+(t.isDefeat?"认输":"赢"):"轮到"+t.fall.color.text+"下"))]),n("div",{staticClass:"user"},[t.countDown>0?n("div",{staticClass:"time"},[n("div",[t._v("局"+t._s(t.blank)+"时：01:00")]),n("div",[t._v("倒计时：01:00")])]):t._e(),n("Piece",{attrs:{data:{value:t.opponent.color.value}}}),n("span",[t._v(t._s(t.blank)+t._s(t.opponent.name))])],1)])]):t._e()},bt=[],gt=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"piece"},[t.data.value===t.pieceColor.none.value?n("div",{staticClass:"none",on:{click:t.handlePiece}}):t._e(),t.data.value===t.pieceColor.black.value?n("div",{class:t.data.active?"black acitve":"black"},[t._v(t._s(t.data.index))]):t._e(),t.data.value===t.pieceColor.white.value?n("div",{class:t.data.active?"white acitve":"white"},[t._v(t._s(t.data.index))]):t._e()])},_t=[],Ct={name:"piece",props:{data:{type:Object,default:function(){return{value:L.none.value,active:!1}}}},data:function(){return{pieceColor:U(L)}},methods:Object(C["a"])({},Object(D["c"])(["setDownPiece"]),{handlePiece:function(){this.setDownPiece(this.data)}})},Dt=Ct,kt=(n("7e85"),Object(l["a"])(Dt,gt,_t,!1,null,"22b0068b",null));kt.options.__file="Piece.vue";var wt=kt.exports,xt={name:"infoTool",components:{Piece:wt},data:function(){return{blank:"　"}},computed:Object(D["d"])({user:function(t){return t.user},opponent:function(t){return t.opponent},fall:function(t){return t.fall},countDown:function(t){return t.countDown},roundNum:function(t){return t.roundNum},isOver:function(t){return t.isOver},isDefeat:function(t){return t.isDefeat}}),methods:Object(C["a"])({},Object(D["b"])(["defeat","next","quit"]),Object(D["c"])(["setRoundNum","setIsOver"]),{handleDefeat:function(){this.defeat()},handleNext:function(){this.next()},handleAgain:function(){this.setIsOver(!0)},handleQuit:function(){this.quit(),this.$router.go(-1)}})},Ot=xt,yt=(n("3bc6"),Object(l["a"])(Ot,mt,bt,!1,null,"36d48d06",null));yt.options.__file="InfoTool.vue";var jt=yt.exports,Nt=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"checkerboard"},[n("CheckerboardBase",{attrs:{baseData:t.baseData,isClick:!t.isOver}})],1)},It=[],Pt=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"content"},[n("div",{staticClass:"checkerboard",on:{"!click":function(e){return t.handleStop(e)}}},[n("div",{staticClass:"line-row"}),n("div",{staticClass:"line-col"}),n("div",{staticClass:"star"}),n("div",{staticClass:"num"},t._l(15,function(e){return n("div",{key:e},[t._v(t._s(e))])})),n("div",{staticClass:"letter"},t._l(t.letter,function(e){return n("div",{key:e},[t._v(t._s(e))])})),n("div",{staticClass:"pieces"},t._l(15,function(e){return n("div",{key:e,staticClass:"row"},t._l(15,function(a){return n("Piece",{key:a,attrs:{data:t.baseData[a+"-"+e]},on:{handlePiece:t.handlePiece}})}))}))])])},St=[],Mt={name:"checkerboard",props:{baseData:{type:Object,default:function(){return{}}},isClick:{type:Boolean,default:!0}},components:{Piece:wt},data:function(){return{letter:M}},created:function(){window.cbb=this},methods:{handleStop:function(t){this.isClick||t.stopPropagation&&t.stopPropagation()},handlePiece:function(t){this.isClick&&this.$emit("handlePiece",t)}}},Lt=Mt,$t=(n("cf67"),Object(l["a"])(Lt,Pt,St,!1,null,"a82c58cc",null));$t.options.__file="CheckerboardBase.vue";var Tt=$t.exports,Et={name:"checkerboard",components:{CheckerboardBase:Tt},data:function(){return{baseData:{},countData:{}}},computed:Object(D["d"])({fall:function(t){return t.fall},user:function(t){return t.user},opponent:function(t){return t.opponent},roundNum:function(t){return t.roundNum},isOver:function(t){return t.isOver},downPiece:function(t){return t.downPiece}}),watch:{roundNum:function(){this.initData()},downPiece:function(t){this.handlePiece(t)}},created:function(){window.cb=this,this.setRoundNum(1),this.initData()},methods:Object(C["a"])({},Object(D["b"])(["victory"]),Object(D["c"])(["setFall","setRoundNum","setIsOver","setIsDefeat"]),{handlePiece:function(t){var e=this.baseData[t.key];e.value=this.fall.color.value,!0!==this.handleIsOver(e)?this.fall.color.value===L.black.value?(e.text=L.black.text,this.handleFall(L.white.value)):(e.text=L.white.text,this.handleFall(L.black.value)):this.victory()},handleFall:function(t){this.user.color.value===t?this.setFall(this.user):this.setFall(this.opponent)},handleStop:function(t){this.isOver&&t.stopPropagation&&t.stopPropagation()},handleIsOver:function(t){var e=!1,n=this.countData[t.key],a=this.getConnections(n.tk),o=this.getConnections(n.bk),i=this.getConnections(n.rtk),s=this.getConnections(n.lbk),c=this.getConnections(n.rk),l=this.getConnections(n.lk),r=this.getConnections(n.rbk),u=this.getConnections(n.ltk),d=[t];if(1+a.length+o.length>4&&(d=d.concat(a,o),e=!0),1+i.length+s.length>4&&(d=d.concat(i,s),e=!0),1+c.length+l.length>4&&(d=d.concat(c,l),e=!0),1+r.length+u.length>4&&(d=d.concat(r,u),e=!0),e)for(var f in d)d[f].active=!0;return e},getConnections:function(t){var e=[];for(var n in t){var a=this.baseData[t[n]];if(a.value!==this.fall.color.value)break;e.push(a)}return e},initData:function(){this.handleFall(L.black.value),this.setIsOver(!1),this.setIsDefeat(!1);var t=new T,e=t.baseData,n=t.countData;this.baseData=e,this.countData=n}})},Ft=Et,At=Object(l["a"])(Ft,Nt,It,!1,null,null,null);At.options.__file="Checkerboard.vue";var Yt=At.exports,Gt={name:"game",components:{InfoTool:jt,Checkerboard:Yt}},Rt=Gt,Bt=Object(l["a"])(Rt,vt,pt,!1,null,null,null);Bt.options.__file="Game.vue";var Ut=Bt.exports,qt=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"log"},[n("div",{staticClass:"title"},[t._v("记录")]),n("div",{staticClass:"table",attrs:{oncontextmenu:"return false"},on:{mousedown:t.handleTableMousedown}},[t._m(0),t._l(t.logs,function(e,a){return n("div",{key:a,staticClass:"table-row",attrs:{title:"右击查看更多"},on:{mousedown:function(n){t.handleItemMousedown(n,e,a)}}},[n("div",{staticClass:"table-cell"},[t._v(t._s(a+1))]),n("div",{staticClass:"table-cell"},[t._v(t._s(t._f("dateFormat")(e.date)))]),n("div",{staticClass:"table-cell"},[t._v(t._s(e.user.name)+" - "+t._s(e.opponent.name))]),n("div",{staticClass:"table-cell"},[t._v(t._s(e.user.fraction)+" - "+t._s(e.opponent.fraction))]),n("div",{staticClass:"table-cell"},[t._v(t._s(e.roundNum))])])}),n("div",{directives:[{name:"show",rawName:"v-show",value:t.isShowMenu,expression:"isShowMenu"}],staticClass:"menu",style:t.menuStyle,on:{mouseleave:function(e){t.isShowMenu=!1}}},[n("div",{staticClass:"item",on:{click:t.handleDelete}},[t._v("删除")]),n("div",{staticClass:"item",on:{click:t.handleDeleteAll}},[t._v("删除全部")])])],2),t.logs.length?t._e():n("div",{staticClass:"no-data"},[t._v("没数据")])])},Jt=[function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"table-header"},[n("div",{staticClass:"table-cell"},[t._v("序号")]),n("div",{staticClass:"table-cell"},[t._v("日期")]),n("div",{staticClass:"table-cell"},[t._v("对手")]),n("div",{staticClass:"table-cell"},[t._v("比分")]),n("div",{staticClass:"table-cell"},[t._v("局数")])])}],Qt={name:"log",data:function(){return{menuStyle:{top:0,left:0},isShowMenu:!1}},computed:Object(D["d"])({logs:function(t){return t.log.logs}}),created:function(){window.log=this,this.getLogs()},methods:Object(C["a"])({},Object(D["b"])(["getLogs","delLog","delAllLog"]),{handleTableMousedown:function(t){3===t.which&&(this.menuStyle={top:t.layerY+"px",left:t.layerX+"px"})},handleItemMousedown:function(t,e,n){1===t.which?this.$router.push({name:"logDetail",params:{id:e.date}}):3===t.which&&(this.isShowMenu=!0,this.handleDelete.index=n)},handleDelete:function(){this.isShowMenu=!1,this.delLog(this.handleDelete.index)},handleDeleteAll:function(){this.delAllLog()}})},Ht=Qt,Xt=(n("a9f6"),Object(l["a"])(Ht,qt,Jt,!1,null,"00983dbf",null));Xt.options.__file="Log.vue";var zt=Xt.exports,Kt=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"log-detail"},[n("div",{staticClass:"title"},[t._v("对战记录")]),n("div",{staticClass:"content"},[n("LogCheckerboard"),n("LogInfoTool")],1)])},Vt=[],Wt=function(){var t=this,e=t.$createElement,n=t._self._c||e;return t.detail.user?n("div",{staticClass:"info-tool"},[n("div",{staticClass:"item"},[t._v("时间："+t._s(t._f("dateFormat")(t.logDetail.date,"YYYY-MM-DD")))]),n("div",{staticClass:"item"},[t._v("第"+t._s(t.detail.roundNum)+"局 （总"+t._s(t.logDetail.list.length)+"局）")]),n("div",{staticClass:"item"},[t._v("比分："+t._s(t.fraction))]),n("div",{staticClass:"item"},[n("button",{attrs:{disabled:0===t.logDetail.list.length||1===t.detail.roundNum},on:{click:t.handleUpRound}},[t._v("上一局")]),n("button",{attrs:{disabled:0===t.logDetail.list.length||t.detail.roundNum===t.logDetail.list.length},on:{click:t.handleDnRound}},[t._v("下一局")]),n("button",{attrs:{disabled:0===t.pieceIndex},on:{click:t.handleUp}},[t._v("上一棋")]),n("button",{attrs:{disabled:t.pieceIndex>=t.detail.pieces.length},on:{click:t.handleDn}},[t._v("下一棋")]),n("button",{on:{click:t.handleQuit}},[t._v("退出")])]),n("div",{staticClass:"item"},[n("Piece",{attrs:{data:{value:t.detail.user.color.value}}}),n("span",[t._v(t._s(t.blank)+t._s(t.detail.user.name))])],1),n("div",{staticClass:"item"},[n("Piece",{attrs:{data:{value:t.detail.opponent.color.value}}}),n("span",[t._v(t._s(t.blank)+t._s(t.detail.opponent.name))])],1),n("div",{staticClass:"log"},t._l(t.logTexts,function(e,a){return n("div",{key:a},[n("span",{staticClass:"time"},[t._v(t._s(t._f("dateFormat")(e.date,"h:mm:ss")))]),t._v(t._s(e.text)+"\n    ")])}))]):t._e()},Zt=[],te={name:"logInfoTool",components:{Piece:wt},data:function(){return{blank:"　",detail:{},fraction:"0 - 0",pieceIndex:0,logTexts:[]}},computed:Object(D["d"])({logDetail:function(t){return t.log.log}}),watch:{logDetail:function(t){this.detail=t.list[0]},detail:function(t){this.fraction="".concat(t.user.fraction," - ").concat(t.opponent.fraction),this.pieceIndex=0,this.setLogRoundNum(this.detail.roundNum),this.logTexts=[{date:t.startDate,text:"开始"}],t.pieces&&0!==t.pieces.length||this.handleEnd()}},created:function(){window.lit=this,this.getLog(this.$route.params.id)},methods:Object(C["a"])({},Object(D["b"])(["getLog"]),Object(D["c"])(["setDownPiece","setLogRoundNum"]),{handleUpRound:function(){this.detail.roundNum>1&&(this.detail=this.logDetail.list[this.detail.roundNum-2])},handleDnRound:function(){var t=this.logDetail.list.length;t>1&&this.detail.roundNum<t&&(this.detail=this.logDetail.list[this.detail.roundNum])},handleUp:function(){this.pieceIndex===this.detail.pieces.length&&this.logTexts.shift(),this.pieceIndex--;var t=Object(C["a"])({},this.detail.pieces[this.pieceIndex],{value:L.none.value,isLog:!0});t.key="".concat(t.x,"-").concat(t.y),this.setDownPiece(t),this.logTexts.shift(),this.fraction="".concat(this.detail.user.fraction," - ").concat(this.detail.opponent.fraction)},handleDn:function(){if(!(this.pieceIndex>=this.detail.pieces.length)){var t=this.pieceIndex%2?L.white:L.black,e=Object(C["a"])({},this.detail.pieces[this.pieceIndex],{value:t.value,index:this.pieceIndex+1,isLog:!0});e.key="".concat(e.x,"-").concat(e.y),this.setDownPiece(e),this.logTexts=[].concat([{date:e.date,text:"".concat(this.$options.filters.letter(e.x-1)).concat(e.y).concat(t.text)}],this.logTexts),this.pieceIndex++,this.pieceIndex===this.detail.pieces.length&&this.handleEnd()}},handleEnd:function(){var t,e,n,a;if(this.detail.roundNum<this.logDetail.list.length){var o=this.logDetail.list[this.detail.roundNum];n=o.user,a=o.opponent}else n=this.logDetail.user,a=this.logDetail.opponent;if(t="".concat(n.fraction," - ").concat(a.fraction),this.fraction===t)e="平局";else if(this.detail.isDefeat){var i=this.pieceIndex%2?L.white:L.black;e=i.text+"认输"}else{var s=this.pieceIndex%2?L.black:L.white;e=s.text+"赢"}this.logTexts=[].concat({date:this.detail.endDate,text:"结束，"+e},this.logTexts),this.fraction=t},handleQuit:function(){this.$router.go(-1)}})},ee=te,ne=(n("df33"),Object(l["a"])(ee,Wt,Zt,!1,null,"6c79b344",null));ne.options.__file="LogInfoTool.vue";var ae=ne.exports,oe=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"log-checkerboard"},[n("CheckerboardBase",{attrs:{baseData:t.baseData,isClick:!1}})],1)},ie=[],se={name:"logCheckerboard",components:{CheckerboardBase:Tt},data:function(){return{baseData:{}}},computed:Object(C["a"])({},Object(D["d"])({downPiece:function(t){return t.downPiece},roundNum:function(t){return t.log.roundNum}})),watch:{downPiece:function(t){var e=this.baseData[t.key];e.value=t.value,e.index=t.index},roundNum:function(){this.init()}},created:function(){window.lcb=this,this.init()},methods:{init:function(){var t=new T,e=t.baseData;this.baseData=e}}},ce=se,le=(n("30f1"),Object(l["a"])(ce,oe,ie,!1,null,"c3d654ba",null));le.options.__file="LogCheckerboard.vue";var re=le.exports,ue={name:"logDeatil",components:{LogInfoTool:ae,LogCheckerboard:re},created:function(){window.logDetail=this}},de=ue,fe=(n("06ff"),Object(l["a"])(de,Kt,Vt,!1,null,"45686e28",null));fe.options.__file="LogDetail.vue";var he=fe.exports,ve=[{path:"/",name:"home",component:ht},{path:"/game",name:"game",component:Ut},{path:"/log",name:"log",component:zt},{path:"/log/:id",name:"logDetail",component:he},{path:"*",name:"error",component:b}],pe="lin09.github.io"===window.location.hostname;a["a"].use(d["a"]);var me=new d["a"]({mode:pe?"hash":"history",base:pe?window.location.pathname:"/",routes:ve}),be=function(t){localStorage.setItem(P,JSON.stringify(t))},ge=function(){var t=localStorage.getItem(P);try{t=JSON.parse(t)||[]}catch(e){t=[]}return t},_e=function(t){localStorage.setItem("".concat(S).concat(t.date),JSON.stringify(t))},Ce=function(t){var e=localStorage.getItem("".concat(S).concat(t));try{e=JSON.parse(e)||{}}catch(n){e={}}return e},De=function(t){localStorage.removeItem("".concat(S).concat(t))},ke={state:{logs:[],log:{},roundNum:1},mutations:{setLogs:function(t,e){t.logs=e},setLog:function(t,e){t.log=e},setLogRoundNum:function(t,e){t.roundNum=e}},actions:{getLogs:function(t){var e=t.commit,n=ge();e("setLogs",n)},getLog:function(t,e){var n=t.commit,a=Ce(e);n("setLog",a)},delLog:function(t,e){var n=t.commit,a=t.state,o=a.logs[e];De(o.date),a.logs.splice(e,1),be(a.logs),n("setLogs",a.logs)},delAllLog:function(t){for(var e=t.commit,n=t.state,a=0;a<n.logs.length;a++){var o=n.logs[a];De(o.date)}be([]),e("setLogs",[])}}};a["a"].use(D["a"]);var we=new D["a"].Store({state:{user:{},opponent:{},mode:{},fall:{color:{}},countDown:0,roundNum:1,isOver:!1,isDefeat:!1,startDate:0,currentDate:0,downPiece:{},logPieces:[]},mutations:{setUser:function(t,e){if(t.user=e,e.fraction){var n=ge(),a=n[n.length-1]||{};if(a.date===t.startDate){a.user=q(e,["name","fraction"]),be(n);var o=Ce(t.startDate)||{};o.user=e,_e(o)}}},setOpponent:function(t,e){if(t.opponent=e,e.fraction){var n=ge(),a=n[n.length-1]||{};if(a.date===t.startDate){a.opponent=q(e,["name","fraction"]),be(n);var o=Ce(t.startDate)||{};o.opponent=e,_e(o)}}},setMode:function(t,e){t.mode=e},setFall:function(t,e){t.fall=e||{}},setCountDown:function(t,e){t.countDown=e},setRoundNum:function(t,e){var n=J().unix();t.currentDate=n,t.logPieces=[],1===e?(t.startDate=n,t.roundNum=e):t.roundNum+=1},setIsDefeat:function(t,e){t.isDefeat=e},setIsOver:function(t,e){if(t.isOver=e,!e)return t;var n=ge(),a={date:t.startDate,roundNum:t.roundNum,user:q(t.user,["name","fraction"]),opponent:q(t.opponent,["name","fraction"])};(n[n.length-1]||{}).date!==t.startDate?n.push(a):n[n.length-1]=a,be(n);var o=Ce(t.startDate);_e(Object(C["a"])({},o,{date:t.startDate,user:t.user,opponent:t.opponent,list:Object(E["a"])(o.list||[]).concat([{roundNum:t.roundNum,user:t.user,opponent:t.opponent,startDate:t.currentDate,endDate:J().unix(),pieces:t.logPieces,isDefeat:t.isDefeat}])})),t.logPieces=[]},setDownPiece:function(t,e){t.downPiece=e,e.isLog||t.logPieces.push({date:J().unix(),x:e.x,y:e.y})}},actions:{defeat:function(t){var e=t.commit,n=t.state;e("setIsDefeat",!0),e("setIsOver",!0),n.fall.color.value!==n.user.color.value?e("setUser",Object(C["a"])({},n.user,{fraction:n.user.fraction+1})):e("setOpponent",Object(C["a"])({},n.opponent,{fraction:n.opponent.fraction+1}))},victory:function(t){var e=t.commit,n=t.state;e("setIsOver",!0),n.fall.color.value===n.user.color.value?e("setUser",Object(C["a"])({},n.user,{fraction:n.user.fraction+1})):e("setOpponent",Object(C["a"])({},n.opponent,{fraction:n.opponent.fraction+1}))},next:function(t){var e=t.commit,n=t.state;e("setUser",Object(C["a"])({},n.user,{color:n.user.color.value!==L.black.value?L.black:L.white})),e("setOpponent",Object(C["a"])({},n.opponent,{color:n.opponent.color.value!==L.black.value?L.black:L.white})),e("setRoundNum")},quit:function(t){var e=t.commit;e("setUser",{}),e("setOpponent",{})}},modules:{log:ke}}),xe={},Oe=function(t){xe[t]=function(e){var n=I[t],a=toString.call(n);if("[object Array]"===a)return"[object Number]"!==toString.call(e)?e:e>n.length?e:n[e];if("[object Object]"===a){for(var o in n){var i=n[o];if(e===i.value)return i.text}return e}}};for(var ye in I)Oe(ye);var je=Object(C["a"])({},xe,{dateFormat:function(t,e){return t?J.unix(t).format(e):t}});for(var Ne in je)a["a"].filter(Ne,je[Ne]);a["a"].config.productionTip=!1,new a["a"]({router:me,store:we,render:function(t){return t(u)}}).$mount("#app")},5971:function(t,e,n){},5972:function(t,e,n){},"5c0b":function(t,e,n){"use strict";var a=n("5e27"),o=n.n(a);o.a},"5e27":function(t,e,n){},6397:function(t,e,n){},"74dd":function(t,e,n){},"7e85":function(t,e,n){"use strict";var a=n("6397"),o=n.n(a);o.a},"867d":function(t,e,n){"use strict";var a=n("3a91"),o=n.n(a);o.a},"8c5d":function(t,e,n){"use strict";var a=n("5971"),o=n.n(a);o.a},"9f6a":function(t,e,n){},a9f6:function(t,e,n){"use strict";var a=n("f3fb"),o=n.n(a);o.a},cf67:function(t,e,n){"use strict";var a=n("5972"),o=n.n(a);o.a},df33:function(t,e,n){"use strict";var a=n("f8be"),o=n.n(a);o.a},f014:function(t,e,n){"use strict";var a=n("1d5c"),o=n.n(a);o.a},f3fb:function(t,e,n){},f8be:function(t,e,n){}});