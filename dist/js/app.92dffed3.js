(function(t){function e(e){for(var i,s,r=e[0],c=e[1],l=e[2],h=0,d=[];h<r.length;h++)s=r[h],o[s]&&d.push(o[s][0]),o[s]=0;for(i in c)Object.prototype.hasOwnProperty.call(c,i)&&(t[i]=c[i]);u&&u(e);while(d.length)d.shift()();return a.push.apply(a,l||[]),n()}function n(){for(var t,e=0;e<a.length;e++){for(var n=a[e],i=!0,r=1;r<n.length;r++){var c=n[r];0!==o[c]&&(i=!1)}i&&(a.splice(e--,1),t=s(s.s=n[0]))}return t}var i={},o={app:0},a=[];function s(e){if(i[e])return i[e].exports;var n=i[e]={i:e,l:!1,exports:{}};return t[e].call(n.exports,n,n.exports,s),n.l=!0,n.exports}s.m=t,s.c=i,s.d=function(t,e,n){s.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:n})},s.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},s.t=function(t,e){if(1&e&&(t=s(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var n=Object.create(null);if(s.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var i in t)s.d(n,i,function(e){return t[e]}.bind(null,i));return n},s.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return s.d(e,"a",e),e},s.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},s.p="/Gobang-vue2.0/dist/";var r=window["webpackJsonp"]=window["webpackJsonp"]||[],c=r.push.bind(r);r.push=e,r=r.slice();for(var l=0;l<r.length;l++)e(r[l]);var u=c;a.push([0,"chunk-vendors"]),n()})({0:function(t,e,n){t.exports=n("56d7")},"0d42":function(t,e,n){},"0f00":function(t,e,n){"use strict";var i=n("0d42"),o=n.n(i);o.a},1295:function(t,e,n){},"26ae":function(t,e,n){},"2c63":function(t,e,n){"use strict";var i=n("74dd"),o=n.n(i);o.a},"38e4":function(t,e,n){"use strict";var i=n("26ae"),o=n.n(i);o.a},"41a4":function(t,e,n){"use strict";var i=n("f7c0"),o=n.n(i);o.a},"56d7":function(t,e,n){"use strict";n.r(e);n("cadf"),n("551c"),n("097d");var i=n("2b0e"),o=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{attrs:{id:"app"}},[n("router-view")],1)},a=[],s={name:"app"},r=s,c=(n("5c0b"),n("2877")),l=Object(c["a"])(r,o,a,!1,null,null,null);l.options.__file="App.vue";var u=l.exports,h=n("8c4f"),d=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"error"},[n("div",{staticClass:"code"},[t._v(t._s(t.$route.query.errorCode))])])},p=[],f={name:"error",data:function(){return{errorCode:0}},created:function(){this.errorCode=this.$route.query.errorCode||404}},m=f,v=(n("8c5d"),Object(c["a"])(m,d,p,!1,null,"4e1606aa",null));v.options.__file="Error.vue";var g=v.exports,b=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"home"},[n("div",{staticClass:"opponent"},[t._l(t.opponent,function(e,i){return n("button",{key:i,staticClass:"btn",attrs:{disabled:-1===t.active.indexOf(e.value)},on:{click:function(n){t.handleOpponent(e)}}},[t._v("\n      "+t._s(e.text)+"\n    ")])}),n("router-link",{staticClass:"btn",attrs:{to:"/log"}},[t._v("对战记录")])],2),n("Modal",{attrs:{title:"设置信息",okText:"确认"},on:{ok:t.goGage},model:{value:t.showSiteModal,callback:function(e){t.showSiteModal=e},expression:"showSiteModal"}},[n("cForm",{ref:"siteForm",attrs:{formData:t.siteFormData,rules:t.siteRules},on:{submit:t.goGage}},[n("FormGroup",{attrs:{label:"黑棋：",placeholder:"请输入玩家名字"},model:{value:t.siteFormData.userName,callback:function(e){t.$set(t.siteFormData,"userName",e)},expression:"siteFormData.userName"}}),n("FormGroup",{attrs:{label:"白棋：",placeholder:"请输入玩家名字"},model:{value:t.siteFormData.opponentName,callback:function(e){t.$set(t.siteFormData,"opponentName",e)},expression:"siteFormData.opponentName"}}),n("FormGroup",{attrs:{label:"倒计时（秒，0为不计时）：",placeholder:"请输入正整数",type:"number",min:0},model:{value:t.siteFormData.countDown,callback:function(e){t.$set(t.siteFormData,"countDown",e)},expression:"siteFormData.countDown"}})],1)],1),n("Modal",{attrs:{title:"设置信息",okText:"确认"},on:{ok:t.goComputer},model:{value:t.showComputerModal,callback:function(e){t.showComputerModal=e},expression:"showComputerModal"}},[n("cForm",{ref:"computerForm",attrs:{formData:t.computerFormData,rules:t.computerRules},on:{submit:t.goComputer}},[n("FormGroup",{attrs:{label:"玩家：",placeholder:"请输入玩家名字"},model:{value:t.computerFormData.userName,callback:function(e){t.$set(t.computerFormData,"userName",e)},expression:"computerFormData.userName"}}),n("FormGroup",{attrs:{label:"选择：",type:"radio",values:[t.pieceColor.black,t.pieceColor.white]},model:{value:t.computerFormData.selectedColor,callback:function(e){t.$set(t.computerFormData,"selectedColor",e)},expression:"computerFormData.selectedColor"}}),n("FormGroup",{attrs:{label:"倒计时（秒，0为不计时）：",placeholder:"请输入正整数",type:"number",min:0},model:{value:t.computerFormData.countDown,callback:function(e){t.$set(t.computerFormData,"countDown",e)},expression:"computerFormData.countDown"}})],1)],1)],1)},_=[],D=n("be94"),w=n("2f62"),y=n("ade3"),k=n("d4ec"),C=n("bee2"),x="gobang",O={LOGS:x+"Logs",LOG:x+"Log",USER_NAME:x+"UserName",OPPONENT_NAME:x+"OpponentName"},N={site:{value:0,text:"现场对战"},simpleComputer:{value:1,text:"简单电脑"},difficultComputer:{value:2,text:"困难电脑"},crazyComputer:{value:3,text:"疯狂电脑"},network:{value:4,text:"网络对战"}},j={none:{value:0,text:"空"},black:{value:1,text:"黑"},white:{value:2,text:"白"}},P=["A","B","C","D","E","F","G","H","I","J","K","L","N","M","O"],F={opponent:N,pieceColor:j,letter:P},S=(n("386d"),n("6b54"),n("a481"),n("2909")),K=function t(e){var n,i=toString.call(e);if("[object Object]"!==i&&"[object Array]"!==i)return e;for(var o in"[object Object]"===i?n=Object(D["a"])({},e):"[object Array]"===i&&(n=Object(S["a"])(e)),n)n[o]=t(n[o]);return n},I=K,M=function(){for(var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],n={},i=0;i<e.length;i++){var o=e[i];t.hasOwnProperty(o)&&(n[o]=t[o])}return n},T=function(t,e){var n=toString.call(t);if("[object Array]"===n){for(var i=0;i<t.length;i++)if(!1===e(t[i],i))break}else for(var o in t)if(!1===e(t[o],o))break},$=function(t){return{_d:t,__proto__:{unix:function(){return Math.floor(this._d/1e3)},year:function(){return this._d.getFullYear()},month:function(){return this._d.getMonth()+1},date:function(){return this._d.getDate()},hour:function(){return this._d.getHours()},minute:function(){return this._d.getMinutes()},seconds:function(){return this._d.getSeconds()},format:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"YYYY-MM-DD h:mm:ss",e=this.year(),n=this.month(),i=this.date(),o=this.hour(),a=this.minute(),s=this.seconds();return t=t.replace(/YYYY/g,e),t=t.replace(/YY/g,e%100),t=t.replace(/MM/g,n<10?"0".concat(n):n),t=t.replace(/M/g,n),t=t.replace(/DD/g,i<10?"0".concat(i):i),t=t.replace(/D/g,i),t=t.replace(/hh/g,o<10?"0".concat(o):o),t=t.replace(/h/g,o),t=t.replace(/mm/g,a<10?"0".concat(a):a),t=t.replace(/m/g,a),t=t.replace(/ss/g,s<10?"0".concat(s):s),t=t.replace(/s/g,s),t}}}};function L(t){return $(t?new Date(t):new Date)}L.unix=function(t){return $(new Date(1e3*t))};var B=L,E=I,A=M,G=T,R=B,Y=function(){function t(){Object(k["a"])(this,t),this.priorities=["4+","_3+_","3+_","_2++_","2++_","_1+++_","1+++_"],this.init()}return Object(C["a"])(t,[{key:"init",value:function(){this.pieceBaseKey={},this.pieceKey={};var t=this.toObject({});this.black=t.black,this.white=t.white}},{key:"toObject",value:function(t){var e={};return G(this.priorities,function(n){e={white:Object(D["a"])({},e.white,Object(y["a"])({},n,E(t))),black:Object(D["a"])({},e.black,Object(y["a"])({},n,E(t)))}}),e}},{key:"updateItem",value:function(t,e,n,i,o){var a=this,s=this.getTypeKeys(i),r=this.getTypeKeys(o),c=this.pieceBaseKey[t][e][n];G(r,function(n,i){if(!n||0===n.length)return!0;var r=i?"white":"black";G(o,function(o,l){var u=n[l];if(u&&u!==s[i][l]){var h=c[l];if(h!==t){var d=a.pieceKey[h][r][u][e],p=d.indexOf(c);-1!==p&&(d.splice(p,1),0===d.length&&a[r][u][h]&&delete a[r][u][h][e],"{}"===JSON.stringify(a[r][u][h])&&delete a[r][u][h],JSON.stringify(a.pieceKey[h])===JSON.stringify(a.toObject({}))&&delete a.pieceKey[h])}}})}),G(s,function(t,n){var i=n?"white":"black";G(t,function(t,n){if(t){var o=c[n],s=a.pieceKey[o]||a.toObject({});s[i][t][e]=s[i][t][e]||[],-1===s[i][t][e].indexOf(c)&&s[i][t][e].push(c),a.pieceKey[o]=s,a[i][t][o]=s[i][t]}})}),G(this.pieceKey[t],function(e,n){G(e,function(e,i){G(a[n][i][t],function(e,o){delete a.pieceKey[t][n][i][o]}),delete a[n][i][t]})}),JSON.stringify(this.pieceKey[t])===JSON.stringify(this.toObject({}))&&delete this.pieceKey[t]}},{key:"getTypeKeys",value:function(t){var e=this,n=[[],[]],i=t.toString().replace(/,/g,"");if((!/1/.test(i)||/^(2.+2)$|^(.+2.+)$/.test(i)||5===i.length&&/2/.test(i))&&(n[0]=!1),(!/2/.test(i)||/^(1.+1)$|^(.+1.+)$/.test(i)||5===i.length&&/1/.test(i))&&(n[1]=!1),!n[0]&&!n[1])return n;if(5===i.length){var o=n[0]||n[1],a=i.replace(/0/g,"").length,s=this.priorities[2*(4-a)];return G(t,function(t,e){o[e]=t?"":s}),n}if(n[0]&&n[1])return G(t,function(t,i){n[0][i]=t?"":e.priorities[6],n[1][i]=t?"":e.priorities[6]}),n;i=n[0]?i.replace("2",""):i.replace("1","");var r=i.replace(/0/g,"").length,c=n[0]||n[1];if(5===i.length){var l=this.priorities[2*(4-r)];return G(t,function(t,e){c[e]=t?"":l}),n}if(5===r){var u=i.search("0");c[u]=this.priorities[0]}else if(4===r){var h=i.search("0"),d=h+1+i.slice(h+1,6).search("0");0===h&&5===d?(c[h]=this.priorities[0],c[d]=this.priorities[0]):0!==h&&5!==d?(c[h]=this.priorities[2],c[d]=this.priorities[2]):(c[h]=0===h?this.priorities[2]:this.priorities[0],c[d]=5===d?this.priorities[2]:this.priorities[0])}else if(3===r){var p=i.search("0"),f=p+1+i.slice(p+1,6).search("0"),m=f+1+i.slice(f+1,6).search("0");0===p&&5===m?(c[p]=this.priorities[2],c[f]=this.priorities[1],c[m]=this.priorities[2]):0!==p&&5!==m?(c[p]=this.priorities[4],c[f]=this.priorities[4],c[m]=this.priorities[4]):(c[p]=0===p?this.priorities[4]:this.priorities[2],c[f]=this.priorities[2],c[m]=5===m?this.priorities[4]:this.priorities[2])}else if(2===r){var v=i.search("0"),g=v+1+i.slice(v+1,6).search("0"),b=g+1+i.slice(g+1,6).search("0"),_=b+1+i.slice(b+1,6).search("0");0===v&&5===_?(c[v]=this.priorities[4],c[g]=this.priorities[3],c[b]=this.priorities[3],c[_]=this.priorities[4]):0!==v&&5!==_?(c[v]=this.priorities[6],c[g]=this.priorities[6],c[b]=this.priorities[6],c[_]=this.priorities[6]):(c[v]=0===v?this.priorities[6]:this.priorities[4],c[g]=this.priorities[4],c[b]=this.priorities[4],c[_]=5===_?this.priorities[6]:this.priorities[4])}else G(t,function(n,i){if(n)return!0;0===i||5===i?c[i]=n||0!==t[0===i?5:0]?"":e.priorities[6]:0===t[0]&&0===t[5]?c[i]=e.priorities[5]:c[i]=e.priorities[6]});return n}},{key:"getBestKeys",value:function(t){return this.simpleComputer(t)}},{key:"getBestKey",value:function(t){var e=this,n=0,i=[];return G(t,function(t){var o=e.getFraction(t);o>n?(i=[t],n=o):o===n&&i.push(t)}),i}},{key:"getFraction",value:function(t){var e=this,n=0;return G(this.pieceKey[t],function(t){G(t,function(t,i){var o=e.priorities.indexOf(i),a=(7-o)*(o%2+1);G(t,function(t){n+=a*t.length})})}),n}},{key:"simpleComputer",value:function(t){var e=this,n=[],i=1===t?"black":"white",o=2===t?"black":"white";if(n=this.getKeys(i,this.priorities[0]),n.length)return n;if(n=this.getKeys(o,this.priorities[0]),n.length)return n;var a=[[],[]];if(G([i,o],function(t,i){return n=e.getKeys(t,e.priorities[1]),n.length?(1===i&&(n=e.getBestKey(n)),!1):(a[i]=e.getKeys(t,e.priorities[2]),n=e.get2M3Keys(a[i],t),!n.length&&(n=e.getM3H2Keys(a[i],t),!n.length&&void 0))}),n.length)return this.getBestKey(n);var s=[[],[]];if(G([i,o],function(t,i){if(s[i]=e.getKeys(t,e.priorities[3]),n=e.get2HKeys(s[i],t,e.priorities[3]),n.length)return!1}),n.length)return this.getBestKey(n);if(a[1].length)return this.getBestKey(a[1]);if(G([o,i],function(t,i){if(n=e.getH2H1Keys(s[i],t),n.length)return!1}),n.length)return this.getBestKey(n);var r=[[],[]],c=[[],[]],l=[[],[]],u=[[],[]];return G([i,o],function(t,n){r[n]=e.getKeys(t,e.priorities[5]),c[n]=e.get2HKeys(r[n],t,e.priorities[5]),l[n]=e.getKeys(t,e.priorities[4]),u[n]=e.getKeys(t,e.priorities[6])}),n=(s[1].length||c[1].length)&&[].concat(s[1],c[1])||s[0].length&&s[0]||c[0].length&&c[0]||r[0].length&&r[0]||r[1].length&&r[1]||l[1].length&&l[1]||a[0].length&&a[0]||l[0].length&&l[0]||u[0].length&&u[0]||u[1].length&&u[1],this.getBestKey(n)}},{key:"getKeys",value:function(t,e){var n=1,i=[];return G(this[t][e],function(t,e){var o=0;G(t,function(){o++}),o>n?(n=o,i=[e]):o===n&&i.push(e)}),i}},{key:"get2M3Keys",value:function(t,e){var n=this,i=[];return G(t,function(t){var o=0,a=!1,s=!1;if(G(n.pieceKey[t][e][n.priorities[2]],function(e){if(G(e,function(e){if(6===e.length){var n=e.indexOf(t);a=a||0===n,s=s||5===n}}),a&&s)return i=[t],!1;o++}),o>1)return i=[t],!1}),i}},{key:"getM3H2Keys",value:function(t,e){var n=this,i=[];return G(t,function(t){G(n.pieceKey[t][e][n.priorities[2]],function(o,a){var s=!1;if(G(n.pieceKey[t][e][n.priorities[3]],function(t,e){if(a!==e)return s=!0,!1}),s)return i.push(t),!1})}),i}},{key:"get2HKeys",value:function(t,e,n){var i=this,o=[];return G(t,function(t){var a=0;G(i.pieceKey[t][e][n],function(){a++}),a>1&&o.push(t)}),o}},{key:"getH2H1Keys",value:function(t,e){var n=this,i=[];return G(t,function(t){var o=0;G(n.pieceKey[t][e][n.priorities[3]],function(i,a){G(n.pieceKey[t][e][n.priorities[5]],function(t,e){a!==e&&o++})}),o>0&&i.push(t)}),i}},{key:"setPieceBaseKeys",value:function(t){var e=this;G(t,function(t,n){G(t,function(t){if(5===t.length)G(t,function(i){e.setPieceBaseKey(i,n,t)});else if(t.length>5)for(var i=function(i){var o=t.slice(i,i+6);G(o,function(t){e.setPieceBaseKey(t,n,o)})},o=0;o<t.length-5;o++)i(o)})})}},{key:"setPieceBaseKey",value:function(t,e,n){this.pieceBaseKey[t]=this.pieceBaseKey[t]||{},this.pieceBaseKey[t][e]=[].concat(this.pieceBaseKey[t][e]||[]).concat([n])}}]),t}(),U=Y,H=O.LOGS,J=O.LOG,q=O.USER_NAME,Q=O.OPPONENT_NAME,X=(F.letter,F.pieceColor),z=F.opponent,V=U,W=function(){function t(){Object(k["a"])(this,t),this.init()}return Object(C["a"])(t,[{key:"init",value:function(){this.baseData={},this.countData={},this.tbk=[],this.lrk=[],this.ltrbk=[],this.rtlbk=[];for(var t=1;t<16;t++){this.tbk[t-1]=[],this.lrk[t-1]=[];var e=2*(t-1);t<12&&(this.ltrbk[e]=[],this.rtlbk[e]=[],e>0&&(this.ltrbk[e-1]=[],this.rtlbk[e-1]=[]));for(var n=1,i=t,o=16-t;n<16;n++,i++,o--){var a="".concat(t,"-").concat(n);this.tbk[t-1].push(a),this.lrk[t-1].push("".concat(n,"-").concat(t)),1===t?(this.ltrbk[0].push("".concat(i,"-").concat(n)),this.rtlbk[0].push("".concat(n,"-").concat(o))):t<12&&i<16&&(this.ltrbk[e-1].push("".concat(i,"-").concat(n)),this.ltrbk[e].push("".concat(n,"-").concat(i)),this.rtlbk[e-1].push("".concat(n,"-").concat(o)),this.rtlbk[e].push("".concat(n+t-1,"-").concat(o+t-1)));var s=Object(D["a"])({},X.none,{x:t,y:n,key:a,active:!1});this.baseData[a]=s;for(var r=0;r<4;r++){var c=r+1,l=n-c,u=t+c,h=n+c,d=t-c;if(l>0){var p="".concat(t,"-").concat(l);this.setCountItem(p,"b",r,s)}if(l>0&&u<16){var f="".concat(u,"-").concat(l);this.setCountItem(f,"lb",r,s)}if(u<16){var m="".concat(u,"-").concat(n);this.setCountItem(m,"l",r,s)}if(u<16&&h<16){var v="".concat(u,"-").concat(h);this.setCountItem(v,"lt",r,s)}if(h<16){var g="".concat(t,"-").concat(h);this.setCountItem(g,"t",r,s)}if(h<16&&d>0){var b="".concat(d,"-").concat(h);this.setCountItem(b,"rt",r,s)}if(d>0){var _="".concat(d,"-").concat(n);this.setCountItem(_,"r",r,s)}if(d>0&&l>0){var w="".concat(d,"-").concat(l);this.setCountItem(w,"rb",r,s)}}}}}},{key:"setCountItem",value:function(t,e,n,i){var o,a=this.countData[t]||{},s=e+"k",r=a[s]||[];r[n]=i.key,this.countData[t]=Object(D["a"])({},a,(o={},Object(y["a"])(o,e,Object(D["a"])({},a[e],Object(y["a"])({},i.key,i))),Object(y["a"])(o,s,r),o))}}]),t}(),Z=(Object(D["a"])({},O,F),function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{directives:[{name:"show",rawName:"v-show",value:t.visible,expression:"visible"}],staticClass:"modal",on:{click:t.handleMask}},[n("div",{staticClass:"modal-content",style:t.contentStyle,on:{click:function(t){t.stopPropagation()}}},[t.title?n("div",{staticClass:"modal-header"},[t._v("\n      "+t._s(t.title)+"\n      "),t.closable?n("div",{staticClass:"modal-close",on:{click:t.close}},[t._v("X")]):t._e()]):t._e(),n("div",{staticClass:"modal-body"},[t._t("default")],2),t.okText||t.cancelText?n("div",{staticClass:"modal-footer"},[t.okText?n("button",{staticClass:"btn btn-primary",on:{click:t.ok}},[t._v(t._s(t.okText))]):t._e(),t.cancelText?n("button",{staticClass:"btn",on:{click:t.cancel}},[t._v(t._s(t.cancelText))]):t._e()]):t._e()])])}),tt=[],et={name:"Modal",props:{value:{type:Boolean,default:!1},closable:{type:Boolean,default:!0},maskClosable:{type:Boolean,default:!0},title:{type:String,default:""},width:{type:String,default:"450px"},okText:{type:String,default:""},cancelText:{type:String,default:""}},data:function(){return{visible:this.value,contentStyle:{width:this.width}}},watch:{value:function(t){this.visible=t},visible:function(t){this.$emit("visibleChange",t)}},methods:{close:function(){this.visible=!1,this.$emit("input",!1),this.$emit("cancel")},handleMask:function(){this.maskClosable&&this.close()},ok:function(){this.$emit("ok")},cancel:function(){this.close()}}},nt=et,it=(n("2c63"),Object(c["a"])(nt,Z,tt,!1,null,"7eb258f8",null));it.options.__file="Modal.vue";var ot=it.exports,at=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"form-group"},[n("div",{staticClass:"label"},[t._v(t._s(t.label))]),"checkbox"!==t.type||t.values?"radio"!==t.type||t.values?t.values?t.values.length?t._l(t.values,function(e,i){return n("label",{key:i},["checkbox"===t.type?n("input",{directives:[{name:"model",rawName:"v-model",value:t.model,expression:"model"}],attrs:{disabled:t.disabled,placeholder:t.placeholder,type:"checkbox"},domProps:{value:e.value,checked:e.value===t.model,checked:Array.isArray(t.model)?t._i(t.model,e.value)>-1:t.model},on:{change:[function(n){var i=t.model,o=n.target,a=!!o.checked;if(Array.isArray(i)){var s=e.value,r=t._i(i,s);o.checked?r<0&&(t.model=i.concat([s])):r>-1&&(t.model=i.slice(0,r).concat(i.slice(r+1)))}else t.model=a},t.handleChange]}}):"radio"===t.type?n("input",{directives:[{name:"model",rawName:"v-model",value:t.model,expression:"model"}],attrs:{disabled:t.disabled,placeholder:t.placeholder,type:"radio"},domProps:{value:e.value,checked:e.value===t.model,checked:t._q(t.model,e.value)},on:{change:[function(n){t.model=e.value},t.handleChange]}}):n("input",{directives:[{name:"model",rawName:"v-model",value:t.model,expression:"model"}],attrs:{disabled:t.disabled,placeholder:t.placeholder,type:t.type},domProps:{value:e.value,checked:e.value===t.model,value:t.model},on:{change:t.handleChange,input:function(e){e.target.composing||(t.model=e.target.value)}}}),t._v(t._s(e.text)+"\n  ")])}):t._e():n("input",{directives:[{name:"model",rawName:"v-model",value:t.model,expression:"model"}],attrs:{disabled:t.disabled,placeholder:t.placeholder,max:t.max,min:t.min,type:t.type},domProps:{value:t.model},on:{change:t.handleChange,input:function(e){e.target.composing||(t.model=e.target.value)}}}):n("input",{directives:[{name:"model",rawName:"v-model",value:t.model,expression:"model"}],attrs:{disabled:t.disabled,placeholder:t.placeholder,max:t.max,min:t.min,type:"radio"},domProps:{checked:t._q(t.model,null)},on:{change:[function(e){t.model=null},t.handleChange]}}):n("input",{directives:[{name:"model",rawName:"v-model",value:t.model,expression:"model"}],attrs:{disabled:t.disabled,placeholder:t.placeholder,max:t.max,min:t.min,type:"checkbox"},domProps:{checked:Array.isArray(t.model)?t._i(t.model,null)>-1:t.model},on:{change:[function(e){var n=t.model,i=e.target,o=!!i.checked;if(Array.isArray(n)){var a=null,s=t._i(n,a);i.checked?s<0&&(t.model=n.concat([a])):s>-1&&(t.model=n.slice(0,s).concat(n.slice(s+1)))}else t.model=o},t.handleChange]}})],2)},st=[],rt=(n("c5f6"),{name:"formGroup",props:{value:{default:""},label:{type:String},type:{type:String,default:"text"},disabled:{type:Boolean,default:!1},placeholder:{type:String},values:{type:Array},max:{type:Number},min:{type:Number}},data:function(){return{model:this.value}},watch:{value:function(t){this.model=t}},methods:{handleChange:function(){"number"===this.type&&(this.model*=1),this.$emit("input",this.model)}}}),ct=rt,lt=(n("e99c"),Object(c["a"])(ct,at,st,!1,null,"efc47b4a",null));lt.options.__file="FormGroup.vue";var ut=lt.exports,ht=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("form",{on:{submit:function(t){t.preventDefault()},keyup:t.keyup}},[n("div",{staticClass:"message"},[t._v(t._s(t.message))]),t._t("default")],2)},dt=[],pt=(n("3b2b"),{props:{formData:Object,rules:Object},data:function(){return{message:""}},methods:{keyup:function(t){13===t.keyCode&&this.$emit("submit")},validate:function(t){for(var e in this.message="",this.rules){var n=this.rules[e];for(var i in n){var o=n[i];if(!0===o.required&&(!this.formData[e]||""===this.formData[e]))return this.callBack(o.message,t);if(o.rgx&&!1===RegExp(o.rgx).test(this.formData[e]))return this.callBack(o.message,t)}}return"function"===typeof t&&t(!0),!0},callBack:function(t,e){return this.message=t,"function"===typeof e&&e(!1),!1}}}),ft=pt,mt=(n("96df"),Object(c["a"])(ft,ht,dt,!1,null,"eeff752a",null));mt.options.__file="Form.vue";var vt=mt.exports,gt={name:"home",components:{Modal:ot,FormGroup:ut,cForm:vt},data:function(){return{opponent:E(z),pieceColor:E(X),active:[z.site.value,z.simpleComputer.value],rules:{userName:[{required:!0,message:"玩家名字不能为空"}],opponentName:[{required:!0,message:"玩家名字不能为空"}],selectedColor:[{rgx:"^(".concat(X.black.value,"|").concat(X.white.value,")$"),message:"选择颜色错误"}],countDown:[{rgx:"^([0-9]+)$",message:"倒计时为正整数"}]},showSiteModal:!1,siteFormData:{userName:localStorage.getItem(q)||"我",opponentName:localStorage.getItem(Q)||"你",countDown:0},siteRules:[],showComputerModal:!1,computerFormData:{userName:localStorage.getItem(q)||"我",selectedColor:X.black.value,countDown:0},computerRules:[]}},created:function(){window.home=this,this.reset(),this.siteRules=Object(D["a"])({},A(this.rules,["userName","countDown"]),{opponentName:this.rules.opponentName}),this.computerRules=A(this.rules,["userName","selectedColor","countDown"])},methods:Object(D["a"])({},Object(w["c"])(["setUser","setOpponent","setMode","setCountDown","reset"]),{handleOpponent:function(t){this.setMode(t),t.value===z.site.value?this.showSiteModal=!0:this.showComputerModal=!0},goGage:function(){this.$refs["siteForm"].validate()&&(localStorage.setItem(q,this.siteFormData.userName),localStorage.setItem(Q,this.siteFormData.opponentName),this.setCountDown(this.siteFormData.countDown),this.setUser({name:this.siteFormData.userName,color:X.black,fraction:0}),this.setOpponent({name:this.siteFormData.opponentName,color:X.white,fraction:0}),this.$router.push("game"))},goComputer:function(){this.$refs["computerForm"].validate()&&(localStorage.setItem(q,this.computerFormData.userName),this.setCountDown(this.computerFormData.countDown),this.setUser({name:this.computerFormData.userName,color:this.computerFormData.selectedColor===X.black.value?X.black:X.white,fraction:0}),this.setOpponent({name:z.simpleComputer.text,color:this.computerFormData.selectedColor===X.black.value?X.white:X.black,fraction:0}),this.$router.push("game"))}})},bt=gt,_t=(n("e45d"),Object(c["a"])(bt,b,_,!1,null,"ef999f96",null));_t.options.__file="Home.vue";var Dt=_t.exports,wt=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"game"},[n("InfoTool"),n("Checkerboard")],1)},yt=[],kt=function(){var t=this,e=t.$createElement,n=t._self._c||e;return t.user.color?n("div",{staticClass:"info-tool"},[n("div",{staticClass:"item"},[n("div",{staticClass:"col-3"},[n("span",{directives:[{name:"show",rawName:"v-show",value:t.roundNum>0,expression:"roundNum > 0"}]},[t._v("第"+t._s(t.roundNum)+"局")]),n("button",{directives:[{name:"show",rawName:"v-show",value:t.countDown>0&&0===t.roundNum,expression:"countDown > 0 && roundNum === 0"}],on:{click:t.handleStart}},[t._v("开始")]),n("button",{directives:[{name:"show",rawName:"v-show",value:t.roundNum>0&&t.isOver,expression:"roundNum > 0 && isOver"}],on:{click:t.handleNext}},[t._v("下一局")])]),n("div",{staticClass:"col-3"},[n("div",[t._v("比分")]),n("div",{staticClass:"score"},[t._v(t._s(t.user.fraction)+" : "+t._s(t.opponent.fraction))])]),n("div",{staticClass:"col-3"},[n("button",{attrs:{disabled:t.isOver},on:{click:t.handleDefeat}},[t._v("认输")]),n("button",{attrs:{disabled:t.isOver},on:{click:t.handleDraw}},[t._v("和局")]),n("button",{on:{click:t.handleQuit}},[t._v("退出")])])]),n("div",{staticClass:"item"},[n("div",{staticClass:"user"},[n("span",[t._v(t._s(t.user.name)+t._s(t.blank))]),n("Piece",{attrs:{data:{value:t.user.color.value}}}),t.countDown>0?n("div",{staticClass:"time"},[n("div",[t._v("局"+t._s(t.blank)+"时："+t._s(t._f("time")(t.userCountDownTotal)))]),n("div",[t._v("倒计时："+t._s(t._f("time")(t.userCountDown)))])]):t._e()],1),t.isDraw?n("div",[t._v("和局")]):t.fall&&!t.isDraw?n("div",[t.isOver?n("span",[t._v(t._s(t._f("pieceColor")(t.fall))+"方"+t._s(t.isDefeat?"认输":"胜"))]):n("span",[t._v("轮到"+t._s(t._f("pieceColor")(t.fall))+"方下")])]):t._e(),n("div",{staticClass:"user"},[t.countDown>0?n("div",{staticClass:"time"},[n("div",[t._v("局"+t._s(t.blank)+"时："+t._s(t._f("time")(t.opponentCountDownTotal)))]),n("div",[t._v("倒计时："+t._s(t._f("time")(t.opponentCountDown)))])]):t._e(),n("Piece",{attrs:{data:{value:t.opponent.color.value}}}),n("span",[t._v(t._s(t.blank)+t._s(t.opponent.name))])],1)])]):t._e()},Ct=[],xt=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"piece"},[t.isOver||t.automatic||t.data.value!==t.pieceColor.none.value?t._e():n("div",{staticClass:"none",on:{click:t.handlePiece}}),t.data.value===t.pieceColor.black.value?n("div",{class:t.data.active?"black acitve":"black"},[t._v(t._s(t.data.index))]):t._e(),t.data.value===t.pieceColor.white.value?n("div",{class:t.data.active?"white acitve":"white"},[t._v(t._s(t.data.index))]):t._e()])},Ot=[],Nt={name:"piece",props:{data:{type:Object,default:function(){return{value:X.none.value,active:!1}}}},data:function(){return{pieceColor:E(X)}},computed:Object(w["d"])({automatic:function(t){return t.automatic},isOver:function(t){return t.isOver}}),methods:Object(D["a"])({},Object(w["c"])(["setDownPiece"]),{handlePiece:function(){this.setDownPiece(this.data)}})},jt=Nt,Pt=(n("38e4"),Object(c["a"])(jt,xt,Ot,!1,null,"60d20df2",null));Pt.options.__file="Piece.vue";var Ft=Pt.exports,St={name:"infoTool",components:{Piece:Ft},data:function(){return{blank:"　",userCountDown:0,userCountDownTotal:0,opponentCountDown:0,opponentCountDownTotal:0,timeout:""}},computed:Object(w["d"])({user:function(t){return t.user},opponent:function(t){return t.opponent},fall:function(t){return t.fall},countDown:function(t){return t.countDown},roundNum:function(t){return t.roundNum},isOver:function(t){return t.isOver},isDefeat:function(t){return t.isDefeat},isDraw:function(t){return t.isDraw},mode:function(t){return t.mode},automatic:function(t){return t.automatic}}),watch:{fall:function(t){var e=this;if(t&&this.countDown)if(clearTimeout(this.timeout),this.fall===this.user.color.value){this.opponentCountDownTotal+=this.countDown-this.opponentCountDown,this.opponentCountDown=0,this.userCountDown=this.countDown;var n=function t(){e.timeout=setTimeout(function(){e.userCountDown--,0!==e.userCountDown?t():e.defeat()},1e3)};n()}else{this.userCountDownTotal+=this.countDown-this.userCountDown,this.userCountDown=0,this.opponentCountDown=this.countDown;var i=function t(){e.timeout=setTimeout(function(){e.opponentCountDown--,0!==e.opponentCountDown?t():e.defeat()},1e3)};i()}},roundNum:function(){this.countDown&&(this.userCountDownTotal=0,this.userCountDown=this.countDown,this.opponentCountDownTotal=0,this.opponentCountDown=this.countDown)}},methods:Object(D["a"])({},Object(w["b"])(["defeat","next","start","draw"]),Object(w["c"])(["getAutomatic"]),{handleStart:function(){this.start()},handleAutomatic:function(){this.getAutomatic()},handleDefeat:function(){this.defeat()},handleNext:function(){this.next()},handleDraw:function(){this.draw()},handleQuit:function(){this.$router.go(-1)}})},Kt=St,It=(n("7bbf"),Object(c["a"])(Kt,kt,Ct,!1,null,"f26d792e",null));It.options.__file="InfoTool.vue";var Mt=It.exports,Tt=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"checkerboard"},[n("CheckerboardBase",{attrs:{baseData:t.piecesData.baseData}})],1)},$t=[],Lt=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"content"},[n("div",{staticClass:"checkerboard"},[n("div",{staticClass:"line-row"}),n("div",{staticClass:"line-col"}),n("div",{staticClass:"spot"}),n("div",{staticClass:"num"},t._l(15,function(e){return n("div",{key:e},[t._v(t._s(e))])})),n("div",{staticClass:"letter"},t._l(15,function(e){return n("div",{key:e},[t._v(t._s(t._f("letter")(e-1)))])})),n("div",{staticClass:"pieces"},t._l(15,function(e){return n("div",{key:e,staticClass:"row"},t._l(15,function(i){return n("Piece",{key:i,attrs:{data:t.baseData[i+"-"+e]}})}))}))])])},Bt=[],Et={name:"checkerboard",props:{baseData:{type:Object,default:function(){return{}}}},components:{Piece:Ft}},At=Et,Gt=(n("bbd5"),Object(c["a"])(At,Lt,Bt,!1,null,"05a5770b",null));Gt.options.__file="CheckerboardBase.vue";var Rt=Gt.exports,Yt={name:"checkerboard",components:{CheckerboardBase:Rt},data:function(){return{piecesData:{},priority:{},automaticMsec:100,isComputer:!1}},computed:Object(w["d"])({fall:function(t){return t.fall},user:function(t){return t.user},opponent:function(t){return t.opponent},downPiece:function(t){return t.downPiece},roundNum:function(t){return t.roundNum},countDown:function(t){return t.countDown},mode:function(t){return t.mode},automatic:function(t){return t.automatic},logPieces:function(t){return t.logPieces}}),watch:{roundNum:function(){this.initData()},downPiece:function(t){this.handlePiece(t)},automatic:function(t){t&&(0===this.logPieces.length?this.setDownPiece(this.piecesData.baseData["8-8"]):this.computerDownPiece())}},created:function(){window.cb=this,this.isComputer=this.mode.value===z.simpleComputer.value||this.mode.value===z.difficultComputer.value,!this.countDown&&this.start()},methods:Object(D["a"])({},Object(w["b"])(["victory","start","draw"]),Object(w["c"])(["setFall","setDownPiece"]),{handlePiece:function(t){var e=this.piecesData.baseData[t.key];e.value=this.fall,!0!==this.handleIsOver(e)?(this.fall===X.black.value?(e.text=X.black.text,this.setFall(X.white.value)):(e.text=X.white.text,this.setFall(X.black.value)),this.isComputer&&(this.handlePriority(e),this.automatic?setTimeout(this.computerDownPiece,this.automaticMsec):this.fall===this.opponent.color.value&&this.computerDownPiece())):this.victory()},handlePriority:function(t){var e=this;G(this.priority.pieceBaseKey[t.key],function(n,i){G(n,function(n,o){var a=[],s=[];G(n,function(n){var i=e.piecesData.baseData[n].value;a.push(i),n===t.key?s.push(X.none.value):s.push(i)}),e.priority.updateItem(t.key,i,o,a,s)})})},computerDownPiece:function(){var t=this.priority.getBestKeys(this.fall);0===t.length?this.draw():this.setDownPiece(this.piecesData.baseData[t[Math.floor(Math.random()*t.length)]])},handleIsOver:function(t){var e=!1,n=this.piecesData.countData[t.key],i=this.getConnections(n.tk),o=this.getConnections(n.bk),a=this.getConnections(n.rtk),s=this.getConnections(n.lbk),r=this.getConnections(n.rk),c=this.getConnections(n.lk),l=this.getConnections(n.rbk),u=this.getConnections(n.ltk),h=[t];if(1+i.length+o.length>4&&(h=h.concat(i,o),e=!0),1+a.length+s.length>4&&(h=h.concat(a,s),e=!0),1+r.length+c.length>4&&(h=h.concat(r,c),e=!0),1+l.length+u.length>4&&(h=h.concat(l,u),e=!0),e)for(var d in h)h[d].active=!0;return e},getConnections:function(t){var e=[];for(var n in t){var i=this.piecesData.baseData[t[n]];if(i.value!==this.fall)break;e.push(i)}return e},initData:function(){this.setFall(X.black.value),this.piecesData=new W,this.isComputer&&(this.priority=new V,this.priority.setPieceBaseKeys(A(this.piecesData,["tbk","lrk","ltrbk","rtlbk"])),(this.fall===this.opponent.color.value||this.automatic)&&this.setDownPiece(this.piecesData.baseData["8-8"]))}})},Ut=Yt,Ht=Object(c["a"])(Ut,Tt,$t,!1,null,null,null);Ht.options.__file="Checkerboard.vue";var Jt=Ht.exports,qt={name:"game",components:{InfoTool:Mt,Checkerboard:Jt}},Qt=qt,Xt=Object(c["a"])(Qt,wt,yt,!1,null,null,null);Xt.options.__file="Game.vue";var zt=Xt.exports,Vt=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"log"},[n("div",{staticClass:"title"},[t._v("记录")]),n("div",{staticClass:"table",attrs:{oncontextmenu:"return false"},on:{mousedown:t.handleTableMousedown}},[t._m(0),t._l(t.logs,function(e,i){return n("div",{key:i,staticClass:"table-row",attrs:{title:"右击查看更多"},on:{mousedown:function(n){t.handleItemMousedown(n,e,i)}}},[n("div",{staticClass:"table-cell"},[t._v(t._s(i+1))]),n("div",{staticClass:"table-cell"},[t._v(t._s(t._f("dateFormat")(e.date)))]),n("div",{staticClass:"table-cell"},[t._v(t._s(e.user.name)+" - "+t._s(e.opponent.name))]),n("div",{staticClass:"table-cell"},[t._v(t._s(e.user.fraction)+" - "+t._s(e.opponent.fraction))]),n("div",{staticClass:"table-cell"},[t._v(t._s(e.roundNum))])])}),n("div",{directives:[{name:"show",rawName:"v-show",value:t.isShowMenu,expression:"isShowMenu"}],staticClass:"menu",style:t.menuStyle,on:{mouseleave:function(e){t.isShowMenu=!1}}},[n("div",{staticClass:"item",on:{click:t.handleDelete}},[t._v("删除")]),n("div",{staticClass:"item",on:{click:t.handleDeleteAll}},[t._v("删除全部")])])],2),t.logs.length?t._e():n("div",{staticClass:"no-data"},[t._v("没数据")])])},Wt=[function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"table-header"},[n("div",{staticClass:"table-cell"},[t._v("序号")]),n("div",{staticClass:"table-cell"},[t._v("日期")]),n("div",{staticClass:"table-cell"},[t._v("对手")]),n("div",{staticClass:"table-cell"},[t._v("比分")]),n("div",{staticClass:"table-cell"},[t._v("局数")])])}],Zt={name:"log",data:function(){return{menuStyle:{top:0,left:0},isShowMenu:!1}},computed:Object(w["d"])({logs:function(t){return t.log.logs}}),created:function(){window.log=this,this.getLogs()},methods:Object(D["a"])({},Object(w["b"])(["getLogs","delLog","delAllLog"]),{handleTableMousedown:function(t){3===t.which&&(this.menuStyle={top:t.layerY+"px",left:t.layerX+"px"})},handleItemMousedown:function(t,e,n){1===t.which?this.$router.push({name:"logDetail",params:{id:e.date}}):3===t.which&&(this.isShowMenu=!0,this.handleDelete.index=n)},handleDelete:function(){this.isShowMenu=!1,this.delLog(this.handleDelete.index)},handleDeleteAll:function(){this.delAllLog()}})},te=Zt,ee=(n("a9f6"),Object(c["a"])(te,Vt,Wt,!1,null,"00983dbf",null));ee.options.__file="Log.vue";var ne=ee.exports,ie=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"log-detail"},[n("div",{staticClass:"title"},[t._v("复盘")]),n("div",{staticClass:"content"},[n("LogCheckerboard"),n("LogInfoTool")],1)])},oe=[],ae=function(){var t=this,e=t.$createElement,n=t._self._c||e;return t.detail.user?n("div",{staticClass:"info-tool"},[n("div",{staticClass:"item"},[t._v("时间："+t._s(t._f("dateFormat")(t.logDetail.date,"YYYY-MM-DD")))]),n("div",{staticClass:"item"},[t._v("第"+t._s(t.detail.roundNum)+"局 （总"+t._s(t.logDetail.list.length)+"局）")]),n("div",{staticClass:"item"},[t._v("比分："+t._s(t.fraction))]),n("div",{staticClass:"item"},[n("button",{attrs:{disabled:0===t.logDetail.list.length||1===t.detail.roundNum},on:{click:t.handleUpRound}},[t._v("上一局")]),n("button",{attrs:{disabled:0===t.logDetail.list.length||t.detail.roundNum===t.logDetail.list.length},on:{click:t.handleDnRound}},[t._v("下一局")]),n("button",{attrs:{disabled:0===t.pieceIndex},on:{click:t.handleUp}},[t._v("上一棋")]),n("button",{attrs:{disabled:t.pieceIndex>=t.detail.pieces.length},on:{click:t.handleDn}},[t._v("下一棋")]),n("button",{on:{click:t.handleQuit}},[t._v("退出")])]),n("div",{staticClass:"item"},[n("Piece",{attrs:{data:{value:t.detail.user.color.value}}}),n("span",[t._v(t._s(t.blank)+t._s(t.detail.user.name))])],1),n("div",{staticClass:"item"},[n("Piece",{attrs:{data:{value:t.detail.opponent.color.value}}}),n("span",[t._v(t._s(t.blank)+t._s(t.detail.opponent.name))])],1),t.logDetail.countDown?n("div",{staticClass:"item"},[t._v("倒计时："+t._s(t._f("time")(t.logDetail.countDown)))]):t._e(),n("div",{staticClass:"log"},t._l(t.logTexts,function(e,i){return n("div",{key:i},[n("span",{staticClass:"time"},[t._v(t._s(t._f("dateFormat")(e.date,"h:mm:ss")))]),t._v(t._s(e.text)+"\n    ")])}))]):t._e()},se=[],re={name:"logInfoTool",components:{Piece:Ft},data:function(){return{blank:"　",detail:{},fraction:"0 - 0",pieceIndex:0,logTexts:[]}},computed:Object(w["d"])({logDetail:function(t){return t.log.log}}),watch:{logDetail:function(t){this.detail=t.list[0]},detail:function(t){this.fraction="".concat(t.user.fraction," - ").concat(t.opponent.fraction),this.pieceIndex=0,this.setLogRoundNum(this.detail.roundNum),this.logTexts=[{date:t.startDate,text:"开始"}],t.pieces&&0!==t.pieces.length||this.handleEnd()}},created:function(){window.lit=this,this.getLog(this.$route.params.id)},methods:Object(D["a"])({},Object(w["b"])(["getLog"]),Object(w["c"])(["setDownPiece","setLogRoundNum"]),{handleUpRound:function(){this.detail.roundNum>1&&(this.detail=this.logDetail.list[this.detail.roundNum-2])},handleDnRound:function(){var t=this.logDetail.list.length;t>1&&this.detail.roundNum<t&&(this.detail=this.logDetail.list[this.detail.roundNum])},handleUp:function(){this.pieceIndex===this.detail.pieces.length&&this.logTexts.shift(),this.pieceIndex--;var t=Object(D["a"])({},this.detail.pieces[this.pieceIndex],{value:X.none.value,isLog:!0});t.key="".concat(t.x,"-").concat(t.y),this.setDownPiece(t),this.logTexts.shift(),this.fraction="".concat(this.detail.user.fraction," - ").concat(this.detail.opponent.fraction)},handleDn:function(){if(!(this.pieceIndex>=this.detail.pieces.length)){var t=this.pieceIndex%2?X.white:X.black,e=Object(D["a"])({},this.detail.pieces[this.pieceIndex],{value:t.value,index:this.pieceIndex+1,isLog:!0});e.key="".concat(e.x,"-").concat(e.y),this.setDownPiece(e),this.logTexts=[].concat([{date:e.date,text:"".concat(this.$options.filters.letter(e.x-1)).concat(e.y).concat(t.text)}],this.logTexts),this.pieceIndex++,this.pieceIndex===this.detail.pieces.length&&this.handleEnd(e)}},handleEnd:function(t){var e,n,i,o="";if(this.detail.roundNum<this.logDetail.list.length){var a=this.logDetail.list[this.detail.roundNum];n=a.user,i=a.opponent}else n=this.logDetail.user,i=this.logDetail.opponent;if(e="".concat(n.fraction," - ").concat(i.fraction),this.fraction===e)o+="和局";else if(this.detail.isDefeat){var s=this.pieceIndex%2?X.white:X.black,r=this.detail.startDate,c=this.detail.endDate;t&&(r=t.date),this.logDetail.countDown===c-r?o="倒计时结束，"+s.text+"方输":o+=s.text+"方认输"}else{var l=this.pieceIndex%2?X.black:X.white;o+=l.text+"方胜"}this.logTexts=[].concat({date:this.detail.endDate,text:o},this.logTexts),this.fraction=e},handleQuit:function(){this.$router.go(-1)}})},ce=re,le=(n("41a4"),Object(c["a"])(ce,ae,se,!1,null,"1c1db685",null));le.options.__file="LogInfoTool.vue";var ue=le.exports,he=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"log-checkerboard"},[n("CheckerboardBase",{attrs:{baseData:t.baseData}})],1)},de=[],pe={name:"logCheckerboard",components:{CheckerboardBase:Rt},data:function(){return{baseData:{}}},computed:Object(D["a"])({},Object(w["d"])({downPiece:function(t){return t.downPiece},roundNum:function(t){return t.log.roundNum}})),watch:{downPiece:function(t){var e=this.baseData[t.key];e.value=t.value,e.index=t.index},roundNum:function(){this.init()}},created:function(){window.lcb=this,this.init()},methods:{init:function(){var t=new W,e=t.baseData;this.baseData=e}}},fe=pe,me=Object(c["a"])(fe,he,de,!1,null,null,null);me.options.__file="LogCheckerboard.vue";var ve=me.exports,ge={name:"logDeatil",components:{LogInfoTool:ue,LogCheckerboard:ve},created:function(){window.logDetail=this}},be=ge,_e=(n("0f00"),Object(c["a"])(be,ie,oe,!1,null,"00085041",null));_e.options.__file="LogDetail.vue";var De=_e.exports,we=[{path:"/",name:"home",component:Dt},{path:"/game",name:"game",component:zt},{path:"/log",name:"log",component:ne},{path:"/log/:id",name:"logDetail",component:De},{path:"*",name:"error",component:g}],ye="lin09.github.io"===window.location.hostname;i["a"].use(h["a"]);var ke=new h["a"]({mode:ye?"hash":"history",base:ye?window.location.pathname:"/",routes:we}),Ce=function(t){localStorage.setItem(H,JSON.stringify(t))},xe=function(){var t=localStorage.getItem(H);try{t=JSON.parse(t)||[]}catch(e){t=[]}return t},Oe=function(t){localStorage.setItem("".concat(J).concat(t.date),JSON.stringify(t))},Ne=function(t){var e=localStorage.getItem("".concat(J).concat(t));try{e=JSON.parse(e)||{}}catch(n){e={}}return e},je=function(t){localStorage.removeItem("".concat(J).concat(t))},Pe={state:{logs:[],log:{},roundNum:1},mutations:{setLogs:function(t,e){t.logs=e},setLog:function(t,e){t.log=e},setLogRoundNum:function(t,e){t.roundNum=e}},actions:{getLogs:function(t){var e=t.commit,n=xe();e("setLogs",n)},getLog:function(t,e){var n=t.commit,i=Ne(e);n("setLog",i)},delLog:function(t,e){var n=t.commit,i=t.state,o=i.logs[e];je(o.date),i.logs.splice(e,1),Ce(i.logs),n("setLogs",i.logs)},delAllLog:function(t){for(var e=t.commit,n=t.state,i=0;i<n.logs.length;i++){var o=n.logs[i];je(o.date)}Ce([]),e("setLogs",[])}}};i["a"].use(w["a"]);var Fe={user:{},opponent:{},mode:{},fall:0,countDown:0,roundNum:0,isOver:!0,isDefeat:!1,isDraw:!1,startDate:0,currentDate:0,downPiece:{},logPieces:[],automatic:!1},Se=new w["a"].Store({state:E(Fe),mutations:{setUser:function(t,e){if(t.user=e,e.fraction){var n=xe(),i=n[n.length-1]||{};if(i.date===t.startDate){i.user=A(e,["name","fraction"]),Ce(n);var o=Ne(t.startDate)||{};o.user=e,Oe(o)}}},setOpponent:function(t,e){if(t.opponent=e,e.fraction){var n=xe(),i=n[n.length-1]||{};if(i.date===t.startDate){i.opponent=A(e,["name","fraction"]),Ce(n);var o=Ne(t.startDate)||{};o.opponent=e,Oe(o)}}},setMode:function(t,e){t.mode=e},setFall:function(t,e){t.fall=e},setCountDown:function(t,e){t.countDown=e},incrementRoundNum:function(t){var e=R().unix();t.currentDate=e,t.isDefeat=!1,t.isDraw=!1,t.logPieces=[],t.fall=0,t.roundNum++,1===t.roundNum&&(t.startDate=e)},setIsDefeat:function(t,e){t.isDefeat=e},setIsDraw:function(t,e){t.isDraw=e},setIsOver:function(t,e){if(t.isOver=e,!0===e){var n=xe(),i={date:t.startDate,roundNum:t.roundNum,user:A(t.user,["name","fraction"]),opponent:A(t.opponent,["name","fraction"])};(n[n.length-1]||{}).date!==t.startDate?n.push(i):n[n.length-1]=i,Ce(n);var o=Ne(t.startDate);Oe(Object(D["a"])({},o,{date:t.startDate,user:t.user,opponent:t.opponent,countDown:t.countDown,list:Object(S["a"])(o.list||[]).concat([{roundNum:t.roundNum,user:t.user,opponent:t.opponent,startDate:t.currentDate,endDate:R().unix(),pieces:t.logPieces,isDefeat:t.isDefeat}])}))}},setDownPiece:function(t,e){t.downPiece=e,e.isLog||t.logPieces.push({date:R().unix(),x:e.x,y:e.y})},getAutomatic:function(t){t.automatic=!t.automatic},reset:function(t){var e=E(Fe);for(var n in e)t[n]=e[n]}},actions:{start:function(t){var e=t.commit;e("incrementRoundNum"),e("setIsOver",!1)},defeat:function(t){var e=t.commit,n=t.state;e("setIsDefeat",!0),e("setIsOver",!0),n.fall!==n.user.color.value?e("setUser",Object(D["a"])({},n.user,{fraction:n.user.fraction+1})):e("setOpponent",Object(D["a"])({},n.opponent,{fraction:n.opponent.fraction+1}))},victory:function(t){var e=t.commit,n=t.state;e("setIsOver",!0),n.fall===n.user.color.value?e("setUser",Object(D["a"])({},n.user,{fraction:n.user.fraction+1})):e("setOpponent",Object(D["a"])({},n.opponent,{fraction:n.opponent.fraction+1}))},draw:function(t){var e=t.commit;e("setIsOver",!0),e("setIsDraw",!0)},next:function(t){var e=t.commit,n=t.state;e("setUser",Object(D["a"])({},n.user,{color:n.user.color.value!==X.black.value?X.black:X.white})),e("setOpponent",Object(D["a"])({},n.opponent,{color:n.opponent.color.value!==X.black.value?X.black:X.white})),e("incrementRoundNum"),e("setIsOver",!1)}},modules:{log:Pe}}),Ke={},Ie=function(t){Ke[t]=function(e){var n=F[t],i=toString.call(n);if("[object Array]"===i)return"[object Number]"!==toString.call(e)?e:e>n.length?e:n[e];if("[object Object]"===i){for(var o in n){var a=n[o];if(e===a.value)return a.text}return e}}};for(var Me in F)Ie(Me);var Te=Object(D["a"])({},Ke,{dateFormat:function(t,e){return t?R.unix(t).format(e):t},time:function(t){var e=Math.floor(t/60);e<10&&(e="0".concat(e));var n=t%60;return n<10&&(n="0".concat(n)),"".concat(e," : ").concat(n)}});for(var $e in Te)i["a"].filter($e,Te[$e]);i["a"].config.productionTip=!1,new i["a"]({router:ke,store:Se,render:function(t){return t(u)}}).$mount("#app")},5971:function(t,e,n){},"5c0b":function(t,e,n){"use strict";var i=n("5e27"),o=n.n(i);o.a},"5e27":function(t,e,n){},"74dd":function(t,e,n){},"7bbf":function(t,e,n){"use strict";var i=n("1295"),o=n.n(i);o.a},"8c5d":function(t,e,n){"use strict";var i=n("5971"),o=n.n(i);o.a},"96df":function(t,e,n){"use strict";var i=n("c0fb"),o=n.n(i);o.a},"98d6":function(t,e,n){},a9f6:function(t,e,n){"use strict";var i=n("f3fb"),o=n.n(i);o.a},aebe:function(t,e,n){},bbd5:function(t,e,n){"use strict";var i=n("98d6"),o=n.n(i);o.a},c0fb:function(t,e,n){},e45d:function(t,e,n){"use strict";var i=n("aebe"),o=n.n(i);o.a},e99c:function(t,e,n){"use strict";var i=n("fbd4"),o=n.n(i);o.a},f3fb:function(t,e,n){},f7c0:function(t,e,n){},fbd4:function(t,e,n){}});