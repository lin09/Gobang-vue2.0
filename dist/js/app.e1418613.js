(function(e){function t(t){for(var o,s,l=t[0],r=t[1],c=t[2],d=0,m=[];d<l.length;d++)s=l[d],a[s]&&m.push(a[s][0]),a[s]=0;for(o in r)Object.prototype.hasOwnProperty.call(r,o)&&(e[o]=r[o]);u&&u(t);while(m.length)m.shift()();return i.push.apply(i,c||[]),n()}function n(){for(var e,t=0;t<i.length;t++){for(var n=i[t],o=!0,l=1;l<n.length;l++){var r=n[l];0!==a[r]&&(o=!1)}o&&(i.splice(t--,1),e=s(s.s=n[0]))}return e}var o={},a={app:0},i=[];function s(t){if(o[t])return o[t].exports;var n=o[t]={i:t,l:!1,exports:{}};return e[t].call(n.exports,n,n.exports,s),n.l=!0,n.exports}s.m=e,s.c=o,s.d=function(e,t,n){s.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},s.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},s.t=function(e,t){if(1&t&&(e=s(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(s.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var o in e)s.d(n,o,function(t){return e[t]}.bind(null,o));return n},s.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return s.d(t,"a",t),t},s.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},s.p="/Gobang-vue2.0/dist/";var l=window["webpackJsonp"]=window["webpackJsonp"]||[],r=l.push.bind(l);l.push=t,l=l.slice();for(var c=0;c<l.length;c++)t(l[c]);var u=r;i.push([0,"chunk-vendors"]),n()})({0:function(e,t,n){e.exports=n("56d7")},"06ff":function(e,t,n){"use strict";var o=n("5240"),a=n.n(o);a.a},"2a31":function(e,t,n){"use strict";var o=n("62e3"),a=n.n(o);a.a},"2c63":function(e,t,n){"use strict";var o=n("74dd"),a=n.n(o);a.a},5240:function(e,t,n){},"56d7":function(e,t,n){"use strict";n.r(t);n("cadf"),n("551c"),n("097d");var o=n("2b0e"),a=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{attrs:{id:"app"}},[n("router-view")],1)},i=[],s={name:"app"},l=s,r=(n("5c0b"),n("2877")),c=Object(r["a"])(l,a,i,!1,null,null,null);c.options.__file="App.vue";var u=c.exports,d=n("8c4f"),m=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"error"},[n("div",{staticClass:"code"},[e._v(e._s(e.$route.query.errorCode))])])},h=[],f={name:"error",data:function(){return{errorCode:0}},created:function(){this.errorCode=this.$route.query.errorCode||404}},v=f,p=(n("8c5d"),Object(r["a"])(v,m,h,!1,null,"4e1606aa",null));p.options.__file="Error.vue";var b=p.exports,g=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"home"},[n("div",{staticClass:"opponent"},[e._l(e.opponent,function(t,o){return n("button",{key:o,staticClass:"btn",attrs:{disabled:-1===e.active.indexOf(t.value)},on:{click:function(n){e.handleOpponent(t)}}},[e._v("\n      "+e._s(t.text)+"\n    ")])}),n("router-link",{staticClass:"btn",attrs:{to:"/log"}},[e._v("对战记录")])],2),n("Modal",{attrs:{title:"设置信息",okText:"确认"},on:{ok:e.goGage},model:{value:e.showSiteModal,callback:function(t){e.showSiteModal=t},expression:"showSiteModal"}},[n("cForm",{ref:"siteForm",attrs:{formData:e.siteFormData,rules:e.siteRules},on:{submit:e.goGage}},[n("FormGroup",{attrs:{label:"黑棋：",placeholder:"请输入玩家名字"},model:{value:e.siteFormData.userName,callback:function(t){e.$set(e.siteFormData,"userName",t)},expression:"siteFormData.userName"}}),n("FormGroup",{attrs:{label:"白棋：",placeholder:"请输入玩家名字"},model:{value:e.siteFormData.opponentName,callback:function(t){e.$set(e.siteFormData,"opponentName",t)},expression:"siteFormData.opponentName"}}),n("FormGroup",{attrs:{label:"倒计时（秒，0为不计时）：",placeholder:"请输入正整数",type:"number",min:0},model:{value:e.siteFormData.countDown,callback:function(t){e.$set(e.siteFormData,"countDown",t)},expression:"siteFormData.countDown"}})],1)],1),n("Modal",{attrs:{title:"设置信息",okText:"确认"},on:{ok:e.goComputer},model:{value:e.showComputerModal,callback:function(t){e.showComputerModal=t},expression:"showComputerModal"}},[n("cForm",{ref:"computerForm",attrs:{formData:e.computerFormData,rules:e.computerRules},on:{submit:e.goComputer}},[n("FormGroup",{attrs:{label:"黑棋：",placeholder:"请输入玩家名字"},model:{value:e.computerFormData.userName,callback:function(t){e.$set(e.computerFormData,"userName",t)},expression:"computerFormData.userName"}}),n("FormGroup",{attrs:{label:"选择：",type:"radio",values:[e.pieceColor.black,e.pieceColor.white]},model:{value:e.computerFormData.selectedColor,callback:function(t){e.$set(e.computerFormData,"selectedColor",t)},expression:"computerFormData.selectedColor"}})],1)],1)],1)},_=[],D=n("be94"),w=n("2f62"),C=n("ade3"),k=n("d4ec"),x=n("bee2"),O="gobang",y={LOGS:O+"Logs",LOG:O+"Log",USER_NAME:O+"UserName",OPPONENT_NAME:O+"OpponentName"},N={site:{value:0,text:"现场对战"},simpleComputer:{value:1,text:"简单电脑"},difficultComputer:{value:2,text:"困难电脑"},crazyComputer:{value:3,text:"疯狂电脑"},network:{value:4,text:"网络对战"}},j={none:{value:0,text:"空"},black:{value:1,text:"黑棋"},white:{value:2,text:"白棋"}},I=["A","B","C","D","E","F","G","H","I","J","K","L","N","M","O"],F={opponent:N,pieceColor:j,letter:I},S=y.LOGS,M=y.LOG,P=y.USER_NAME,T=y.OPPONENT_NAME,$=(F.letter,F.pieceColor),L=F.opponent,E=function(){function e(){Object(k["a"])(this,e),this.baseData={},this.countData={},this.init()}return Object(x["a"])(e,[{key:"init",value:function(){for(var e=1;e<16;e++)for(var t=1;t<16;t++){var n="".concat(e,"-").concat(t),o=Object(D["a"])({},$.none,{x:e,y:t,key:n,active:!1});this.baseData[n]=o;for(var a=0;a<4;a++){var i=a+1,s=t-i,l=e+i,r=t+i,c=e-i;if(s>0){var u="".concat(e,"-").concat(s);this.setCountItem(u,"b",a,o)}if(s>0&&l<16){var d="".concat(l,"-").concat(s);this.setCountItem(d,"lb",a,o)}if(l<16){var m="".concat(l,"-").concat(t);this.setCountItem(m,"l",a,o)}if(l<16&&r<16){var h="".concat(l,"-").concat(r);this.setCountItem(h,"lt",a,o)}if(r<16){var f="".concat(e,"-").concat(r);this.setCountItem(f,"t",a,o)}if(r<16&&c>0){var v="".concat(c,"-").concat(r);this.setCountItem(v,"rt",a,o)}if(c>0){var p="".concat(c,"-").concat(t);this.setCountItem(p,"r",a,o)}if(c>0&&s>0){var b="".concat(c,"-").concat(s);this.setCountItem(b,"rb",a,o)}}}}},{key:"setCountItem",value:function(e,t,n,o){var a,i=this.countData[e]||{},s=t+"k",l=i[s]||[];l[n]=o.key,this.countData[e]=Object(D["a"])({},i,(a={},Object(C["a"])(a,t,Object(D["a"])({},i[t],Object(C["a"])({},o.key,o))),Object(C["a"])(a,s,l),a))}}]),e}(),A=(Object(D["a"])({},y,F),n("2909")),R=function e(t){var n,o=toString.call(t);if("[object Object]"!==o&&"[object Array]"!==o)return t;for(var a in"[object Object]"===o?n=Object(D["a"])({},t):"[object Array]"===o&&(n=Object(A["a"])(t)),n)n[a]=e(n[a]);return n},G=R,Y=function(){for(var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],n={},o=0;o<t.length;o++){var a=t[o];e.hasOwnProperty(a)&&(n[a]=e[a])}return n},U=(n("a481"),function(e){return{_d:e,__proto__:{unix:function(){return Math.floor(this._d/1e3)},year:function(){return this._d.getFullYear()},month:function(){return this._d.getMonth()+1},date:function(){return this._d.getDate()},hour:function(){return this._d.getHours()},minute:function(){return this._d.getMinutes()},seconds:function(){return this._d.getSeconds()},format:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"YYYY-MM-DD h:mm:ss",t=this.year(),n=this.month(),o=this.date(),a=this.hour(),i=this.minute(),s=this.seconds();return e=e.replace(/YYYY/g,t),e=e.replace(/YY/g,t%100),e=e.replace(/MM/g,n<10?"0".concat(n):n),e=e.replace(/M/g,n),e=e.replace(/DD/g,o<10?"0".concat(o):o),e=e.replace(/D/g,o),e=e.replace(/hh/g,a<10?"0".concat(a):a),e=e.replace(/h/g,a),e=e.replace(/mm/g,i<10?"0".concat(i):i),e=e.replace(/m/g,i),e=e.replace(/ss/g,s<10?"0".concat(s):s),e=e.replace(/s/g,s),e}}}});function B(e){return U(e?new Date(e):new Date)}B.unix=function(e){return U(new Date(1e3*e))};var q=B,J=G,Q=Y,H=q,X=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{directives:[{name:"show",rawName:"v-show",value:e.visible,expression:"visible"}],staticClass:"modal",on:{click:e.handleMask}},[n("div",{staticClass:"modal-content",style:e.contentStyle,on:{click:function(e){e.stopPropagation()}}},[e.title?n("div",{staticClass:"modal-header"},[e._v("\n      "+e._s(e.title)+"\n      "),e.closable?n("div",{staticClass:"modal-close",on:{click:e.close}},[e._v("X")]):e._e()]):e._e(),n("div",{staticClass:"modal-body"},[e._t("default")],2),e.okText||e.cancelText?n("div",{staticClass:"modal-footer"},[e.okText?n("button",{staticClass:"btn btn-primary",on:{click:e.ok}},[e._v(e._s(e.okText))]):e._e(),e.cancelText?n("button",{staticClass:"btn",on:{click:e.cancel}},[e._v(e._s(e.cancelText))]):e._e()]):e._e()])])},z=[],K={name:"Modal",props:{value:{type:Boolean,default:!1},closable:{type:Boolean,default:!0},maskClosable:{type:Boolean,default:!0},title:{type:String,default:""},width:{type:String,default:"450px"},okText:{type:String,default:""},cancelText:{type:String,default:""}},data:function(){return{visible:this.value,contentStyle:{width:this.width}}},watch:{value:function(e){this.visible=e},visible:function(e){this.$emit("visibleChange",e)}},methods:{close:function(){this.visible=!1,this.$emit("input",!1),this.$emit("cancel")},handleMask:function(){this.maskClosable&&this.close()},ok:function(){this.$emit("ok")},cancel:function(){this.close()}}},V=K,W=(n("2c63"),Object(r["a"])(V,X,z,!1,null,"7eb258f8",null));W.options.__file="Modal.vue";var Z=W.exports,ee=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"form-group"},[n("div",{staticClass:"label"},[e._v(e._s(e.label))]),"checkbox"!==e.type||e.values?"radio"!==e.type||e.values?e.values?e.values.length?e._l(e.values,function(t,o){return n("label",{key:o},["checkbox"===e.type?n("input",{directives:[{name:"model",rawName:"v-model",value:e.model,expression:"model"}],attrs:{disabled:e.disabled,placeholder:e.placeholder,type:"checkbox"},domProps:{value:t.value,checked:t.value===e.model,checked:Array.isArray(e.model)?e._i(e.model,t.value)>-1:e.model},on:{change:[function(n){var o=e.model,a=n.target,i=!!a.checked;if(Array.isArray(o)){var s=t.value,l=e._i(o,s);a.checked?l<0&&(e.model=o.concat([s])):l>-1&&(e.model=o.slice(0,l).concat(o.slice(l+1)))}else e.model=i},e.handleChange]}}):"radio"===e.type?n("input",{directives:[{name:"model",rawName:"v-model",value:e.model,expression:"model"}],attrs:{disabled:e.disabled,placeholder:e.placeholder,type:"radio"},domProps:{value:t.value,checked:t.value===e.model,checked:e._q(e.model,t.value)},on:{change:[function(n){e.model=t.value},e.handleChange]}}):n("input",{directives:[{name:"model",rawName:"v-model",value:e.model,expression:"model"}],attrs:{disabled:e.disabled,placeholder:e.placeholder,type:e.type},domProps:{value:t.value,checked:t.value===e.model,value:e.model},on:{change:e.handleChange,input:function(t){t.target.composing||(e.model=t.target.value)}}}),e._v(e._s(t.text)+"\n  ")])}):e._e():n("input",{directives:[{name:"model",rawName:"v-model",value:e.model,expression:"model"}],attrs:{disabled:e.disabled,placeholder:e.placeholder,max:e.max,min:e.min,type:e.type},domProps:{value:e.model},on:{change:e.handleChange,input:function(t){t.target.composing||(e.model=t.target.value)}}}):n("input",{directives:[{name:"model",rawName:"v-model",value:e.model,expression:"model"}],attrs:{disabled:e.disabled,placeholder:e.placeholder,max:e.max,min:e.min,type:"radio"},domProps:{checked:e._q(e.model,null)},on:{change:[function(t){e.model=null},e.handleChange]}}):n("input",{directives:[{name:"model",rawName:"v-model",value:e.model,expression:"model"}],attrs:{disabled:e.disabled,placeholder:e.placeholder,max:e.max,min:e.min,type:"checkbox"},domProps:{checked:Array.isArray(e.model)?e._i(e.model,null)>-1:e.model},on:{change:[function(t){var n=e.model,o=t.target,a=!!o.checked;if(Array.isArray(n)){var i=null,s=e._i(n,i);o.checked?s<0&&(e.model=n.concat([i])):s>-1&&(e.model=n.slice(0,s).concat(n.slice(s+1)))}else e.model=a},e.handleChange]}})],2)},te=[],ne=(n("c5f6"),{name:"formGroup",props:{value:{default:""},label:{type:String},type:{type:String,default:"text"},disabled:{type:Boolean,default:!1},placeholder:{type:String},values:{type:Array},max:{type:Number},min:{type:Number}},data:function(){return{model:this.value}},watch:{value:function(e){this.model=e}},methods:{handleChange:function(){"number"===this.type&&(this.model*=1),this.$emit("input",this.model)}}}),oe=ne,ae=(n("e99c"),Object(r["a"])(oe,ee,te,!1,null,"efc47b4a",null));ae.options.__file="FormGroup.vue";var ie=ae.exports,se=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("form",{on:{submit:function(e){e.preventDefault()},keyup:e.keyup}},[n("div",{staticClass:"message"},[e._v(e._s(e.message))]),e._t("default")],2)},le=[],re=(n("3b2b"),{props:{formData:Object,rules:Object},data:function(){return{message:""}},methods:{keyup:function(e){13===e.keyCode&&this.$emit("submit")},validate:function(e){for(var t in this.message="",this.rules){var n=this.rules[t];for(var o in n){var a=n[o];if(!0===a.required&&(!this.formData[t]||""===this.formData[t]))return this.callBack(a.message,e);if(a.rgx&&!1===RegExp(a.rgx).test(this.formData[t]))return this.callBack(a.message,e)}}return"function"===typeof e&&e(!0),!0},callBack:function(e,t){return this.message=e,"function"===typeof t&&t(!1),!1}}}),ce=re,ue=(n("96df"),Object(r["a"])(ce,se,le,!1,null,"eeff752a",null));ue.options.__file="Form.vue";var de=ue.exports,me={name:"home",components:{Modal:Z,FormGroup:ie,cForm:de},data:function(){return{opponent:J(L),pieceColor:J($),active:[L.site.value],rules:{userName:[{required:!0,message:"黑棋玩家名字不能为空"}],opponentName:[{required:!0,message:"白棋玩家名字不能为空"}],selectedColor:[{rgx:"^(".concat($.black.value,"|").concat($.white.value,")$"),message:"选择颜色错误"}],countDown:[{rgx:"^([0-9]+)$",message:"倒计时为正整数"}]},showSiteModal:!1,siteFormData:{userName:localStorage.getItem(P)||"我",opponentName:localStorage.getItem(T)||"你",countDown:0},siteRules:[],showComputerModal:!1,computerFormData:{userName:localStorage.getItem(P)||"我",selectedColor:$.black.value,countDown:0},computerRules:[]}},created:function(){window.home=this,this.reset(),this.siteRules=Q(this.rules,["userName","opponentName","countDown"]),this.computerRules=Q(this.rules,["userName","selectedColor"])},methods:Object(D["a"])({},Object(w["c"])(["setUser","setOpponent","setMode","setCountDown","reset"]),{handleOpponent:function(e){this.setMode(e),e.value===L.site.value?this.showSiteModal=!0:this.showComputerModal=!0},goGage:function(){this.$refs["siteForm"].validate()&&(localStorage.setItem(P,this.siteFormData.userName),localStorage.setItem(T,this.siteFormData.opponentName),this.setCountDown(this.siteFormData.countDown),this.setUser({name:this.siteFormData.userName,color:$.black,fraction:0}),this.setOpponent({name:this.siteFormData.opponentName,color:$.white,fraction:0}),this.$router.push("game"))},goComputer:function(){this.$refs["computerForm"].validate()&&(localStorage.setItem(P,this.computerFormData.userName),this.setCountDown(this.computerFormData.countDown),this.setUser({name:this.computerFormData.userName,color:this.computerFormData.selectedColor===$.black.value?$.black:$.white,fraction:0}),this.setOpponent({name:L.simpleComputer.text,color:this.computerFormData.selectedColor===$.black.value?$.white:$.black,fraction:0}),this.$router.push("computer"))}})},he=me,fe=(n("fe03"),Object(r["a"])(he,g,_,!1,null,"4603f181",null));fe.options.__file="Home.vue";var ve=fe.exports,pe=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"game"},[n("InfoTool"),n("Checkerboard")],1)},be=[],ge=function(){var e=this,t=e.$createElement,n=e._self._c||t;return e.user.color?n("div",{staticClass:"info-tool"},[n("div",{staticClass:"item"},[n("div",{staticClass:"col-3"},[n("span",{directives:[{name:"show",rawName:"v-show",value:e.roundNum>0,expression:"roundNum > 0"}]},[e._v("第"+e._s(e.roundNum)+"局")]),n("button",{directives:[{name:"show",rawName:"v-show",value:e.countDown>0&&0===e.roundNum,expression:"countDown > 0 && roundNum === 0"}],on:{click:e.handleStart}},[e._v("开始")]),n("button",{directives:[{name:"show",rawName:"v-show",value:e.roundNum>0&&e.isOver,expression:"roundNum > 0 && isOver"}],on:{click:e.handleNext}},[e._v("下一局")])]),n("div",{staticClass:"col-3"},[n("div",[e._v("比分")]),n("div",{staticClass:"score"},[e._v(e._s(e.user.fraction)+" : "+e._s(e.opponent.fraction))])]),n("div",{staticClass:"col-3"},[n("button",{attrs:{disabled:e.isOver},on:{click:e.handleDefeat}},[e._v("认输")]),n("button",{attrs:{disabled:e.isOver},on:{click:e.handleDraw}},[e._v("平局")]),n("button",{on:{click:e.handleQuit}},[e._v("退出")])])]),n("div",{staticClass:"item"},[n("div",{staticClass:"user"},[n("span",[e._v(e._s(e.user.name)+e._s(e.blank))]),n("Piece",{attrs:{data:{value:e.user.color.value}}}),e.countDown>0?n("div",{staticClass:"time"},[n("div",[e._v("局"+e._s(e.blank)+"时："+e._s(e._f("time")(e.userCountDownTotal)))]),n("div",[e._v("倒计时："+e._s(e._f("time")(e.userCountDown)))])]):e._e()],1),e.isDraw?n("div",[e._v("平局")]):e.fall&&!e.isDraw?n("div",[e.isOver?n("span",[e._v(e._s(e._f("pieceColor")(e.fall))+e._s(e.isDefeat?"认输":"赢"))]):n("span",[e._v("轮到"+e._s(e._f("pieceColor")(e.fall))+"下")])]):e._e(),n("div",{staticClass:"user"},[e.countDown>0?n("div",{staticClass:"time"},[n("div",[e._v("局"+e._s(e.blank)+"时："+e._s(e._f("time")(e.opponentCountDownTotal)))]),n("div",[e._v("倒计时："+e._s(e._f("time")(e.opponentCountDown)))])]):e._e(),n("Piece",{attrs:{data:{value:e.opponent.color.value}}}),n("span",[e._v(e._s(e.blank)+e._s(e.opponent.name))])],1)])]):e._e()},_e=[],De=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"piece"},[e.isOver||e.data.value!==e.pieceColor.none.value?e._e():n("div",{staticClass:"none",on:{click:e.handlePiece}}),e.data.value===e.pieceColor.black.value?n("div",{class:e.data.active?"black acitve":"black"},[e._v(e._s(e.data.index))]):e._e(),e.data.value===e.pieceColor.white.value?n("div",{class:e.data.active?"white acitve":"white"},[e._v(e._s(e.data.index))]):e._e()])},we=[],Ce={name:"piece",props:{data:{type:Object,default:function(){return{value:$.none.value,active:!1}}}},data:function(){return{pieceColor:J($)}},computed:Object(w["d"])({isOver:function(e){return e.isOver}}),methods:Object(D["a"])({},Object(w["c"])(["setDownPiece"]),{handlePiece:function(){this.setDownPiece(this.data)}})},ke=Ce,xe=(n("2a31"),Object(r["a"])(ke,De,we,!1,null,"4c940622",null));xe.options.__file="Piece.vue";var Oe=xe.exports,ye={name:"infoTool",components:{Piece:Oe},data:function(){return{blank:"　",userCountDown:0,userCountDownTotal:0,opponentCountDown:0,opponentCountDownTotal:0,timeout:""}},computed:Object(w["d"])({user:function(e){return e.user},opponent:function(e){return e.opponent},fall:function(e){return e.fall},countDown:function(e){return e.countDown},roundNum:function(e){return e.roundNum},isOver:function(e){return e.isOver},isDefeat:function(e){return e.isDefeat},isDraw:function(e){return e.isDraw}}),watch:{fall:function(e){var t=this;if(e&&this.countDown)if(clearTimeout(this.timeout),this.fall===this.user.color.value){this.opponentCountDownTotal+=this.countDown-this.opponentCountDown,this.opponentCountDown=0,this.userCountDown=this.countDown;var n=function e(){t.timeout=setTimeout(function(){t.userCountDown--,0!==t.userCountDown?e():t.defeat()},1e3)};n()}else{this.userCountDownTotal+=this.countDown-this.userCountDown,this.userCountDown=0,this.opponentCountDown=this.countDown;var o=function e(){t.timeout=setTimeout(function(){t.opponentCountDown--,0!==t.opponentCountDown?e():t.defeat()},1e3)};o()}},roundNum:function(){this.countDown&&(this.userCountDownTotal=0,this.userCountDown=this.countDown,this.opponentCountDownTotal=0,this.opponentCountDown=this.countDown)}},methods:Object(D["a"])({},Object(w["b"])(["defeat","next","start","draw"]),{handleStart:function(){this.start()},handleDefeat:function(){this.defeat()},handleNext:function(){this.next()},handleDraw:function(){this.draw()},handleQuit:function(){this.$router.go(-1)}})},Ne=ye,je=(n("6162"),Object(r["a"])(Ne,ge,_e,!1,null,"8b0a0c84",null));je.options.__file="InfoTool.vue";var Ie=je.exports,Fe=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"checkerboard"},[n("CheckerboardBase",{attrs:{baseData:e.baseData}})],1)},Se=[],Me=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"content"},[n("div",{staticClass:"checkerboard"},[n("div",{staticClass:"line-row"}),n("div",{staticClass:"line-col"}),n("div",{staticClass:"spot"}),n("div",{staticClass:"num"},e._l(15,function(t){return n("div",{key:t},[e._v(e._s(t))])})),n("div",{staticClass:"letter"},e._l(15,function(t){return n("div",{key:t},[e._v(e._s(e._f("letter")(t-1)))])})),n("div",{staticClass:"pieces"},e._l(15,function(t){return n("div",{key:t,staticClass:"row"},e._l(15,function(o){return n("Piece",{key:o,attrs:{data:e.baseData[o+"-"+t]}})}))}))])])},Pe=[],Te={name:"checkerboard",props:{baseData:{type:Object,default:function(){return{}}}},components:{Piece:Oe}},$e=Te,Le=(n("bbd5"),Object(r["a"])($e,Me,Pe,!1,null,"05a5770b",null));Le.options.__file="CheckerboardBase.vue";var Ee=Le.exports,Ae={name:"checkerboard",components:{CheckerboardBase:Ee},data:function(){return{baseData:{},countData:{}}},computed:Object(w["d"])({fall:function(e){return e.fall},user:function(e){return e.user},opponent:function(e){return e.opponent},downPiece:function(e){return e.downPiece},roundNum:function(e){return e.roundNum},countDown:function(e){return e.countDown}}),watch:{roundNum:function(){this.initData()},downPiece:function(e){this.handlePiece(e)}},created:function(){window.cb=this,!this.countDown&&this.start()},methods:Object(D["a"])({},Object(w["b"])(["victory","start"]),Object(w["c"])(["setFall"]),{handlePiece:function(e){var t=this.baseData[e.key];t.value=this.fall,!0!==this.handleIsOver(t)?this.fall===$.black.value?(t.text=$.black.text,this.setFall($.white.value)):(t.text=$.white.text,this.setFall($.black.value)):this.victory()},handleIsOver:function(e){var t=!1,n=this.countData[e.key],o=this.getConnections(n.tk),a=this.getConnections(n.bk),i=this.getConnections(n.rtk),s=this.getConnections(n.lbk),l=this.getConnections(n.rk),r=this.getConnections(n.lk),c=this.getConnections(n.rbk),u=this.getConnections(n.ltk),d=[e];if(1+o.length+a.length>4&&(d=d.concat(o,a),t=!0),1+i.length+s.length>4&&(d=d.concat(i,s),t=!0),1+l.length+r.length>4&&(d=d.concat(l,r),t=!0),1+c.length+u.length>4&&(d=d.concat(c,u),t=!0),t)for(var m in d)d[m].active=!0;return t},getConnections:function(e){var t=[];for(var n in e){var o=this.baseData[e[n]];if(o.value!==this.fall)break;t.push(o)}return t},initData:function(){this.setFall($.black.value);var e=new E,t=e.baseData,n=e.countData;this.baseData=t,this.countData=n}})},Re=Ae,Ge=Object(r["a"])(Re,Fe,Se,!1,null,null,null);Ge.options.__file="Checkerboard.vue";var Ye=Ge.exports,Ue={name:"game",components:{InfoTool:Ie,Checkerboard:Ye}},Be=Ue,qe=Object(r["a"])(Be,pe,be,!1,null,null,null);qe.options.__file="Game.vue";var Je=qe.exports,Qe=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"game"},[n("InfoTool"),n("Checkerboard")],1)},He=[],Xe={name:"game",components:{InfoTool:Ie,Checkerboard:Ye}},ze=Xe,Ke=Object(r["a"])(ze,Qe,He,!1,null,null,null);Ke.options.__file="Computer.vue";var Ve=Ke.exports,We=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"log"},[n("div",{staticClass:"title"},[e._v("记录")]),n("div",{staticClass:"table",attrs:{oncontextmenu:"return false"},on:{mousedown:e.handleTableMousedown}},[e._m(0),e._l(e.logs,function(t,o){return n("div",{key:o,staticClass:"table-row",attrs:{title:"右击查看更多"},on:{mousedown:function(n){e.handleItemMousedown(n,t,o)}}},[n("div",{staticClass:"table-cell"},[e._v(e._s(o+1))]),n("div",{staticClass:"table-cell"},[e._v(e._s(e._f("dateFormat")(t.date)))]),n("div",{staticClass:"table-cell"},[e._v(e._s(t.user.name)+" - "+e._s(t.opponent.name))]),n("div",{staticClass:"table-cell"},[e._v(e._s(t.user.fraction)+" - "+e._s(t.opponent.fraction))]),n("div",{staticClass:"table-cell"},[e._v(e._s(t.roundNum))])])}),n("div",{directives:[{name:"show",rawName:"v-show",value:e.isShowMenu,expression:"isShowMenu"}],staticClass:"menu",style:e.menuStyle,on:{mouseleave:function(t){e.isShowMenu=!1}}},[n("div",{staticClass:"item",on:{click:e.handleDelete}},[e._v("删除")]),n("div",{staticClass:"item",on:{click:e.handleDeleteAll}},[e._v("删除全部")])])],2),e.logs.length?e._e():n("div",{staticClass:"no-data"},[e._v("没数据")])])},Ze=[function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"table-header"},[n("div",{staticClass:"table-cell"},[e._v("序号")]),n("div",{staticClass:"table-cell"},[e._v("日期")]),n("div",{staticClass:"table-cell"},[e._v("对手")]),n("div",{staticClass:"table-cell"},[e._v("比分")]),n("div",{staticClass:"table-cell"},[e._v("局数")])])}],et={name:"log",data:function(){return{menuStyle:{top:0,left:0},isShowMenu:!1}},computed:Object(w["d"])({logs:function(e){return e.log.logs}}),created:function(){window.log=this,this.getLogs()},methods:Object(D["a"])({},Object(w["b"])(["getLogs","delLog","delAllLog"]),{handleTableMousedown:function(e){3===e.which&&(this.menuStyle={top:e.layerY+"px",left:e.layerX+"px"})},handleItemMousedown:function(e,t,n){1===e.which?this.$router.push({name:"logDetail",params:{id:t.date}}):3===e.which&&(this.isShowMenu=!0,this.handleDelete.index=n)},handleDelete:function(){this.isShowMenu=!1,this.delLog(this.handleDelete.index)},handleDeleteAll:function(){this.delAllLog()}})},tt=et,nt=(n("a9f6"),Object(r["a"])(tt,We,Ze,!1,null,"00983dbf",null));nt.options.__file="Log.vue";var ot=nt.exports,at=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"log-detail"},[n("div",{staticClass:"title"},[e._v("对战记录")]),n("div",{staticClass:"content"},[n("LogCheckerboard"),n("LogInfoTool")],1)])},it=[],st=function(){var e=this,t=e.$createElement,n=e._self._c||t;return e.detail.user?n("div",{staticClass:"info-tool"},[n("div",{staticClass:"item"},[e._v("时间："+e._s(e._f("dateFormat")(e.logDetail.date,"YYYY-MM-DD")))]),n("div",{staticClass:"item"},[e._v("第"+e._s(e.detail.roundNum)+"局 （总"+e._s(e.logDetail.list.length)+"局）")]),n("div",{staticClass:"item"},[e._v("比分："+e._s(e.fraction))]),n("div",{staticClass:"item"},[n("button",{attrs:{disabled:0===e.logDetail.list.length||1===e.detail.roundNum},on:{click:e.handleUpRound}},[e._v("上一局")]),n("button",{attrs:{disabled:0===e.logDetail.list.length||e.detail.roundNum===e.logDetail.list.length},on:{click:e.handleDnRound}},[e._v("下一局")]),n("button",{attrs:{disabled:0===e.pieceIndex},on:{click:e.handleUp}},[e._v("上一棋")]),n("button",{attrs:{disabled:e.pieceIndex>=e.detail.pieces.length},on:{click:e.handleDn}},[e._v("下一棋")]),n("button",{on:{click:e.handleQuit}},[e._v("退出")])]),n("div",{staticClass:"item"},[n("Piece",{attrs:{data:{value:e.detail.user.color.value}}}),n("span",[e._v(e._s(e.blank)+e._s(e.detail.user.name))])],1),n("div",{staticClass:"item"},[n("Piece",{attrs:{data:{value:e.detail.opponent.color.value}}}),n("span",[e._v(e._s(e.blank)+e._s(e.detail.opponent.name))])],1),e.logDetail.countDown?n("div",{staticClass:"item"},[e._v("倒计时："+e._s(e._f("time")(e.logDetail.countDown)))]):e._e(),n("div",{staticClass:"log"},e._l(e.logTexts,function(t,o){return n("div",{key:o},[n("span",{staticClass:"time"},[e._v(e._s(e._f("dateFormat")(t.date,"h:mm:ss")))]),e._v(e._s(t.text)+"\n    ")])}))]):e._e()},lt=[],rt={name:"logInfoTool",components:{Piece:Oe},data:function(){return{blank:"　",detail:{},fraction:"0 - 0",pieceIndex:0,logTexts:[]}},computed:Object(w["d"])({logDetail:function(e){return e.log.log}}),watch:{logDetail:function(e){this.detail=e.list[0]},detail:function(e){this.fraction="".concat(e.user.fraction," - ").concat(e.opponent.fraction),this.pieceIndex=0,this.setLogRoundNum(this.detail.roundNum),this.logTexts=[{date:e.startDate,text:"开始"}],e.pieces&&0!==e.pieces.length||this.handleEnd()}},created:function(){window.lit=this,this.getLog(this.$route.params.id)},methods:Object(D["a"])({},Object(w["b"])(["getLog"]),Object(w["c"])(["setDownPiece","setLogRoundNum"]),{handleUpRound:function(){this.detail.roundNum>1&&(this.detail=this.logDetail.list[this.detail.roundNum-2])},handleDnRound:function(){var e=this.logDetail.list.length;e>1&&this.detail.roundNum<e&&(this.detail=this.logDetail.list[this.detail.roundNum])},handleUp:function(){this.pieceIndex===this.detail.pieces.length&&this.logTexts.shift(),this.pieceIndex--;var e=Object(D["a"])({},this.detail.pieces[this.pieceIndex],{value:$.none.value,isLog:!0});e.key="".concat(e.x,"-").concat(e.y),this.setDownPiece(e),this.logTexts.shift(),this.fraction="".concat(this.detail.user.fraction," - ").concat(this.detail.opponent.fraction)},handleDn:function(){if(!(this.pieceIndex>=this.detail.pieces.length)){var e=this.pieceIndex%2?$.white:$.black,t=Object(D["a"])({},this.detail.pieces[this.pieceIndex],{value:e.value,index:this.pieceIndex+1,isLog:!0});t.key="".concat(t.x,"-").concat(t.y),this.setDownPiece(t),this.logTexts=[].concat([{date:t.date,text:"".concat(this.$options.filters.letter(t.x-1)).concat(t.y).concat(e.text)}],this.logTexts),this.pieceIndex++,this.pieceIndex===this.detail.pieces.length&&this.handleEnd(t)}},handleEnd:function(e){var t,n,o,a="结束，";if(this.detail.roundNum<this.logDetail.list.length){var i=this.logDetail.list[this.detail.roundNum];n=i.user,o=i.opponent}else n=this.logDetail.user,o=this.logDetail.opponent;if(t="".concat(n.fraction," - ").concat(o.fraction),this.fraction===t)a+="平局";else if(this.detail.isDefeat){var s=this.pieceIndex%2?$.white:$.black,l=this.detail.startDate,r=this.detail.endDate;e&&(l=e.date),this.logDetail.countDown===r-l?a="倒计时结束，"+s.text+"输":a+=s.text+"认输"}else{var c=this.pieceIndex%2?$.black:$.white;a+=c.text+"赢"}this.logTexts=[].concat({date:this.detail.endDate,text:a},this.logTexts),this.fraction=t},handleQuit:function(){this.$router.go(-1)}})},ct=rt,ut=(n("6127"),Object(r["a"])(ct,st,lt,!1,null,"63ba9396",null));ut.options.__file="LogInfoTool.vue";var dt=ut.exports,mt=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"log-checkerboard"},[n("CheckerboardBase",{attrs:{baseData:e.baseData}})],1)},ht=[],ft={name:"logCheckerboard",components:{CheckerboardBase:Ee},data:function(){return{baseData:{}}},computed:Object(D["a"])({},Object(w["d"])({downPiece:function(e){return e.downPiece},roundNum:function(e){return e.log.roundNum}})),watch:{downPiece:function(e){var t=this.baseData[e.key];t.value=e.value,t.index=e.index},roundNum:function(){this.init()}},created:function(){window.lcb=this,this.init()},methods:{init:function(){var e=new E,t=e.baseData;this.baseData=t}}},vt=ft,pt=Object(r["a"])(vt,mt,ht,!1,null,null,null);pt.options.__file="LogCheckerboard.vue";var bt=pt.exports,gt={name:"logDeatil",components:{LogInfoTool:dt,LogCheckerboard:bt},created:function(){window.logDetail=this}},_t=gt,Dt=(n("06ff"),Object(r["a"])(_t,at,it,!1,null,"45686e28",null));Dt.options.__file="LogDetail.vue";var wt=Dt.exports,Ct=[{path:"/",name:"home",component:ve},{path:"/game",name:"game",component:Je},{path:"/computer",name:"computer",component:Ve},{path:"/log",name:"log",component:ot},{path:"/log/:id",name:"logDetail",component:wt},{path:"*",name:"error",component:b}],kt="lin09.github.io"===window.location.hostname;o["a"].use(d["a"]);var xt=new d["a"]({mode:kt?"hash":"history",base:kt?window.location.pathname:"/",routes:Ct}),Ot=function(e){localStorage.setItem(S,JSON.stringify(e))},yt=function(){var e=localStorage.getItem(S);try{e=JSON.parse(e)||[]}catch(t){e=[]}return e},Nt=function(e){localStorage.setItem("".concat(M).concat(e.date),JSON.stringify(e))},jt=function(e){var t=localStorage.getItem("".concat(M).concat(e));try{t=JSON.parse(t)||{}}catch(n){t={}}return t},It=function(e){localStorage.removeItem("".concat(M).concat(e))},Ft={state:{logs:[],log:{},roundNum:1},mutations:{setLogs:function(e,t){e.logs=t},setLog:function(e,t){e.log=t},setLogRoundNum:function(e,t){e.roundNum=t}},actions:{getLogs:function(e){var t=e.commit,n=yt();t("setLogs",n)},getLog:function(e,t){var n=e.commit,o=jt(t);n("setLog",o)},delLog:function(e,t){var n=e.commit,o=e.state,a=o.logs[t];It(a.date),o.logs.splice(t,1),Ot(o.logs),n("setLogs",o.logs)},delAllLog:function(e){for(var t=e.commit,n=e.state,o=0;o<n.logs.length;o++){var a=n.logs[o];It(a.date)}Ot([]),t("setLogs",[])}}};o["a"].use(w["a"]);var St={user:{},opponent:{},mode:{},fall:0,countDown:0,roundNum:0,isOver:!0,isDefeat:!1,isDraw:!1,startDate:0,currentDate:0,downPiece:{},logPieces:[]},Mt=new w["a"].Store({state:J(St),mutations:{setUser:function(e,t){if(e.user=t,t.fraction){var n=yt(),o=n[n.length-1]||{};if(o.date===e.startDate){o.user=Q(t,["name","fraction"]),Ot(n);var a=jt(e.startDate)||{};a.user=t,Nt(a)}}},setOpponent:function(e,t){if(e.opponent=t,t.fraction){var n=yt(),o=n[n.length-1]||{};if(o.date===e.startDate){o.opponent=Q(t,["name","fraction"]),Ot(n);var a=jt(e.startDate)||{};a.opponent=t,Nt(a)}}},setMode:function(e,t){e.mode=t},setFall:function(e,t){e.fall=t},setCountDown:function(e,t){e.countDown=t},incrementRoundNum:function(e){var t=H().unix();e.currentDate=t,e.isDefeat=!1,e.isDraw=!1,e.logPieces=[],e.fall=0,e.roundNum++,1===e.roundNum&&(e.startDate=t)},setIsDefeat:function(e,t){e.isDefeat=t},setIsDraw:function(e,t){e.isDraw=t},setIsOver:function(e,t){if(e.isOver=t,!0===t){var n=yt(),o={date:e.startDate,roundNum:e.roundNum,user:Q(e.user,["name","fraction"]),opponent:Q(e.opponent,["name","fraction"])};(n[n.length-1]||{}).date!==e.startDate?n.push(o):n[n.length-1]=o,Ot(n);var a=jt(e.startDate);Nt(Object(D["a"])({},a,{date:e.startDate,user:e.user,opponent:e.opponent,countDown:e.countDown,list:Object(A["a"])(a.list||[]).concat([{roundNum:e.roundNum,user:e.user,opponent:e.opponent,startDate:e.currentDate,endDate:H().unix(),pieces:e.logPieces,isDefeat:e.isDefeat}])}))}},setDownPiece:function(e,t){e.downPiece=t,t.isLog||e.logPieces.push({date:H().unix(),x:t.x,y:t.y})},reset:function(e){var t=J(St);for(var n in t)e[n]=t[n]}},actions:{start:function(e){var t=e.commit;t("incrementRoundNum"),t("setIsOver",!1)},defeat:function(e){var t=e.commit,n=e.state;t("setIsDefeat",!0),t("setIsOver",!0),n.fall!==n.user.color.value?t("setUser",Object(D["a"])({},n.user,{fraction:n.user.fraction+1})):t("setOpponent",Object(D["a"])({},n.opponent,{fraction:n.opponent.fraction+1}))},victory:function(e){var t=e.commit,n=e.state;t("setIsOver",!0),n.fall===n.user.color.value?t("setUser",Object(D["a"])({},n.user,{fraction:n.user.fraction+1})):t("setOpponent",Object(D["a"])({},n.opponent,{fraction:n.opponent.fraction+1}))},draw:function(e){var t=e.commit;t("setIsOver",!0),t("setIsDraw",!0)},next:function(e){var t=e.commit,n=e.state;t("setUser",Object(D["a"])({},n.user,{color:n.user.color.value!==$.black.value?$.black:$.white})),t("setOpponent",Object(D["a"])({},n.opponent,{color:n.opponent.color.value!==$.black.value?$.black:$.white})),t("incrementRoundNum"),t("setIsOver",!1)}},modules:{log:Ft}}),Pt={},Tt=function(e){Pt[e]=function(t){var n=F[e],o=toString.call(n);if("[object Array]"===o)return"[object Number]"!==toString.call(t)?t:t>n.length?t:n[t];if("[object Object]"===o){for(var a in n){var i=n[a];if(t===i.value)return i.text}return t}}};for(var $t in F)Tt($t);var Lt=Object(D["a"])({},Pt,{dateFormat:function(e,t){return e?H.unix(e).format(t):e},time:function(e){var t=Math.floor(e/60);t<10&&(t="0".concat(t));var n=e%60;return n<10&&(n="0".concat(n)),"".concat(t," : ").concat(n)}});for(var Et in Lt)o["a"].filter(Et,Lt[Et]);o["a"].config.productionTip=!1,new o["a"]({router:xt,store:Mt,render:function(e){return e(u)}}).$mount("#app")},5971:function(e,t,n){},"5c0b":function(e,t,n){"use strict";var o=n("5e27"),a=n.n(o);a.a},"5e27":function(e,t,n){},6089:function(e,t,n){},6127:function(e,t,n){"use strict";var o=n("6dc4"),a=n.n(o);a.a},6162:function(e,t,n){"use strict";var o=n("6089"),a=n.n(o);a.a},"62e3":function(e,t,n){},"6dc4":function(e,t,n){},"74dd":function(e,t,n){},"8c5d":function(e,t,n){"use strict";var o=n("5971"),a=n.n(o);a.a},"96df":function(e,t,n){"use strict";var o=n("c0fb"),a=n.n(o);a.a},"97e3":function(e,t,n){},"98d6":function(e,t,n){},a9f6:function(e,t,n){"use strict";var o=n("f3fb"),a=n.n(o);a.a},bbd5:function(e,t,n){"use strict";var o=n("98d6"),a=n.n(o);a.a},c0fb:function(e,t,n){},e99c:function(e,t,n){"use strict";var o=n("fbd4"),a=n.n(o);a.a},f3fb:function(e,t,n){},fbd4:function(e,t,n){},fe03:function(e,t,n){"use strict";var o=n("97e3"),a=n.n(o);a.a}});